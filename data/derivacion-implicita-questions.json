{
  "derivacion-implicita": [
    {
      "id": "di-001",
      "topic": "funciones-implicitas",
      "question": "¿Cuál ecuación representa una función IMPLÍCITA?",
      "type": "multiple-choice",
      "options": [
        "$x^2 + y^2 = 25$",
        "$y = x^2 + 3$",
        "$y = \\sqrt{x}$",
        "$f(x) = 2x - 1$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Implícita: x e y mezcladas, difícil despejar y",
        "Explícita: y despejado, y = f(x)",
        "x² + y² = 25 es una circunferencia (implícita)"
      ],
      "stepByStep": [
        "📚 **Función implícita vs explícita**",
        "",
        "**Función EXPLÍCITA:**",
        "* $1$ está despejada: $y = f(x)$",
        "* Ejemplos: $y = x^2 + 3$, $y = \\sqrt{x}$",
        "",
        "**Función IMPLÍCITA:**",
        "* $1$ e $y$ mezcladas en una ecuación",
        "* Difícil o imposible despejar $y$",
        "* Ejemplo: $x^2 + y^2 = 25$ (circunferencia)",
        "",
        "🔍 **Análisis de opciones**",
        "",
        "**A. x² + y² = 25:**",
        "- ✅ IMPLÍCITA (no se puede despejar y fácilmente)",
        "",
        "**B, C, D:**",
        "- ❌ EXPLÍCITAS (y ya está despejada)",
        "",
        "✅ **Respuesta**",
        "$x^2 + y^2 = 25$ es implícita"
      ],
      "explanation": "x² + y² = 25 es implícita porque x e y están mezcladas y no se puede despejar y fácilmente"
    },
    {
      "id": "di-002",
      "topic": "funciones-implicitas",
      "question": "¿Por qué NO podemos derivar directamente $x^2 + y^2 = 25$ respecto a x?",
      "type": "multiple-choice",
      "options": [
        "Porque $y$ depende de $x$, entonces debemos usar regla de la cadena",
        "Porque es una circunferencia",
        "Porque no se puede derivar",
        "Porque $y$ es constante"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "y es función de x: y = y(x)",
        "Al derivar y respecto a x, necesitamos dy/dx",
        "Usamos regla de la cadena: d/dx[y²] = 2y·dy/dx"
      ],
      "stepByStep": [
        "🤔 **El problema**",
        "",
        "**Ecuación:** $x^2 + y^2 = 25$",
        "",
        "**Al derivar respecto a x:**",
        "- $\\frac{d}{dx}[x^2]$ es fácil: $2x$",
        "- $\\frac{d}{dx}[y^2]$ requiere cuidado...",
        "",
        "💡 **La clave**",
        "",
        "**$y$ es función de $x$:** aunque no esté despejada, $y = y(x)$",
        "",
        "Por tanto:",
        "$$\\frac{d}{dx}[y^2] = \\frac{d}{dx}[(y(x))^2]$$",
        "",
        "🔗 **Regla de la cadena**",
        "",
        "$$\\frac{d}{dx}[y^2] = 2y \\cdot \\frac{dy}{dx}$$",
        "",
        "✅ **Respuesta**",
        "Necesitamos regla de la cadena porque $y = y(x)$"
      ],
      "explanation": "y depende de x (y = y(x)), entonces al derivar y² necesitamos la cadena: 2y·dy/dx"
    },
    {
      "id": "di-003",
      "topic": "tecnica-derivacion-implicita",
      "question": "Ordena los pasos para derivar implícitamente $x^2 + y^2 = 25$",
      "type": "ordering",
      "items": [
        "Derivar ambos lados respecto a $x$: $\\frac{d}{dx}[x^2 + y^2] = \\frac{d}{dx}[25]$",
        "Aplicar regla de la cadena a $y^2$: $2x + 2y\\frac{dy}{dx} = 0$",
        "Agrupar términos con $\\frac{dy}{dx}$: $2y\\frac{dy}{dx} = -2x$",
        "Despejar $\\frac{dy}{dx}$: $\\frac{dy}{dx} = -\\frac{2x}{2y} = -\\frac{x}{y}$"
      ],
      "correctOrder": [0, 1, 2, 3],
      "difficulty": "medio",
      "hints": [
        "Primero: deriva toda la ecuación",
        "Segundo: aplica cadena a los términos con y",
        "Tercero: despeja dy/dx"
      ],
      "stepByStep": [
        "📝 **Derivación implícita paso a paso**",
        "",
        "**Ecuación:** $x^2 + y^2 = 25$",
        "",
        "**Paso 1: Derivar ambos lados**",
        "$$\\frac{d}{dx}[x^2 + y^2] = \\frac{d}{dx}[25]$$",
        "",
        "**Paso 2: Aplicar derivadas**",
        "$$2x + 2y\\frac{dy}{dx} = 0$$",
        "(Nota: $\\frac{d}{dx}[y^2] = 2y\\frac{dy}{dx}$ por cadena)",
        "",
        "**Paso 3: Agrupar términos con dy/dx**",
        "$$2y\\frac{dy}{dx} = -2x$$",
        "",
        "**Paso 4: Despejar dy/dx**",
        "$$\\frac{dy}{dx} = \\frac{-2x}{2y} = -\\frac{x}{y}$$",
        "",
        "✅ **Resultado**",
        "La pendiente en cualquier punto $(x, y)$ de la circunferencia es $-\\frac{x}{y}$"
      ],
      "explanation": "Pasos: derivar toda la ecuación → cadena en términos con y → despejar dy/dx"
    },
    {
      "id": "di-004",
      "topic": "tecnica-derivacion-implicita",
      "question": "Al derivar implícitamente $xy = 5$, ¿qué regla usamos para derivar $xy$?",
      "type": "multiple-choice",
      "options": [
        "Regla del producto: $(xy)' = x'y + xy' = y + x\\frac{dy}{dx}$",
        "Regla del cociente",
        "Solo regla de la cadena",
        "Derivar x y y por separado"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "xy es un PRODUCTO de funciones",
        "Usa (uv)' = u'v + uv'",
        "Recuerda: y' = dy/dx"
      ],
      "stepByStep": [
        "📝 **Derivar $xy$ implícitamente**",
        "",
        "**Ecuación:** $xy = 5$",
        "",
        "🧮 **$xy$ es un producto**",
        "",
        "Usamos regla del producto: $(uv)' = u'v + uv'$",
        "",
        "* $1 = x$ → $u' = 1$",
        "* $1 = y$ → $v' = \\frac{dy}{dx}$ (por cadena)",
        "",
        "$$\\frac{d}{dx}[xy] = (1)(y) + (x)\\left(\\frac{dy}{dx}\\right)$$",
        "$$\\frac{d}{dx}[xy] = y + x\\frac{dy}{dx}$$",
        "",
        "📊 **Ecuación completa**",
        "$$y + x\\frac{dy}{dx} = 0$$",
        "$$x\\frac{dy}{dx} = -y$$",
        "$$\\frac{dy}{dx} = -\\frac{y}{x}$$",
        "",
        "✅ **Respuesta**",
        "Usamos la **regla del producto**"
      ],
      "explanation": "xy es producto, usamos (xy)' = y + x·dy/dx"
    },
    {
      "id": "di-005",
      "topic": "tecnica-derivacion-implicita",
      "question": "Deriva implícitamente: $x^3 + y^3 = 6xy$. ¿Cuál es $\\frac{dy}{dx}$?",
      "type": "multiple-choice",
      "options": [
        "$\\frac{dy}{dx} = \\frac{2y - x^2}{y^2 - 2x}$",
        "$\\frac{dy}{dx} = \\frac{3x^2}{3y^2}$",
        "$\\frac{dy}{dx} = \\frac{x^2}{y^2}$",
        "$\\frac{dy}{dx} = -\\frac{x}{y}$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Deriva ambos lados respecto a x",
        "Lado izquierdo: 3x² + 3y²(dy/dx)",
        "Lado derecho: usa producto: 6[y + x(dy/dx)]"
      ],
      "stepByStep": [
        "📝 **Ecuación de Folium de Descartes**",
        "",
        "**Ecuación:** $x^3 + y^3 = 6xy$",
        "",
        "🧮 **Paso 1: Derivar ambos lados**",
        "",
        "**Lado izquierdo:**",
        "$$\\frac{d}{dx}[x^3 + y^3] = 3x^2 + 3y^2\\frac{dy}{dx}$$",
        "",
        "**Lado derecho (producto):**",
        "$$\\frac{d}{dx}[6xy] = 6\\left[y + x\\frac{dy}{dx}\\right] = 6y + 6x\\frac{dy}{dx}$$",
        "",
        "📊 **Paso 2: Igualar**",
        "$$3x^2 + 3y^2\\frac{dy}{dx} = 6y + 6x\\frac{dy}{dx}$$",
        "",
        "🔄 **Paso 3: Agrupar términos con dy/dx**",
        "$$3y^2\\frac{dy}{dx} - 6x\\frac{dy}{dx} = 6y - 3x^2$$",
        "$$\\frac{dy}{dx}(3y^2 - 6x) = 6y - 3x^2$$",
        "",
        "✅ **Paso 4: Despejar**",
        "$$\\frac{dy}{dx} = \\frac{6y - 3x^2}{3y^2 - 6x} = \\frac{3(2y - x^2)}{3(y^2 - 2x)} = \\frac{2y - x^2}{y^2 - 2x}$$"
      ],
      "explanation": "Derivar: 3x² + 3y²(dy/dx) = 6y + 6x(dy/dx), luego despejar dy/dx = (2y-x²)/(y²-2x)"
    },
    {
      "id": "di-006",
      "topic": "circunferencias-elipses",
      "question": "Para la circunferencia $x^2 + y^2 = 25$, ¿cuál es $\\frac{dy}{dx}$?",
      "type": "multiple-choice",
      "options": [
        "$-\\frac{x}{y}$",
        "$-\\frac{y}{x}$",
        "$\\frac{x}{y}$",
        "$-\\frac{2x}{2y}$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Deriva: 2x + 2y(dy/dx) = 0",
        "Despeja: 2y(dy/dx) = -2x",
        "Simplifica: dy/dx = -x/y"
      ],
      "stepByStep": [
        "📝 **Circunferencia:** $x^2 + y^2 = 25$",
        "",
        "**Radio:** $r = 5$, **Centro:** $(0, 0)$",
        "",
        "🧮 **Derivación implícita**",
        "",
        "$$\\frac{d}{dx}[x^2 + y^2] = \\frac{d}{dx}[25]$$",
        "$$2x + 2y\\frac{dy}{dx} = 0$$",
        "",
        "📊 **Despejamos dy/dx**",
        "$$2y\\frac{dy}{dx} = -2x$$",
        "$$\\frac{dy}{dx} = \\frac{-2x}{2y} = -\\frac{x}{y}$$",
        "",
        "💡 **Interpretación geométrica**",
        "",
        "En una circunferencia:",
        "* Radio desde centro a $(x, y)$ tiene pendiente $\\frac{y}{x}$",
        "* Tangente es perpendicular: pendiente $-\\frac{x}{y}$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = -\\frac{x}{y}$"
      ],
      "explanation": "2x + 2y(dy/dx) = 0 → dy/dx = -x/y"
    },
    {
      "id": "di-007",
      "topic": "circunferencias-elipses",
      "question": "Para la elipse $\\frac{x^2}{9} + \\frac{y^2}{4} = 1$, ¿cuál es $\\frac{dy}{dx}$?",
      "type": "multiple-choice",
      "options": [
        "$-\\frac{4x}{9y}$",
        "$-\\frac{9x}{4y}$",
        "$-\\frac{x}{y}$",
        "$-\\frac{2x}{3y}$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Deriva: (2x/9) + (2y/4)(dy/dx) = 0",
        "Simplifica: (2x/9) + (y/2)(dy/dx) = 0",
        "Despeja dy/dx"
      ],
      "stepByStep": [
        "📝 **Elipse:** $\\frac{x^2}{9} + \\frac{y^2}{4} = 1$",
        "",
        "**Semiejes:** $a = 3$ (horizontal), $b = 2$ (vertical)",
        "",
        "🧮 **Derivación implícita**",
        "",
        "$$\\frac{d}{dx}\\left[\\frac{x^2}{9} + \\frac{y^2}{4}\\right] = \\frac{d}{dx}[1]$$",
        "$$\\frac{2x}{9} + \\frac{2y}{4}\\frac{dy}{dx} = 0$$",
        "$$\\frac{2x}{9} + \\frac{y}{2}\\frac{dy}{dx} = 0$$",
        "",
        "📊 **Despejamos dy/dx**",
        "$$\\frac{y}{2}\\frac{dy}{dx} = -\\frac{2x}{9}$$",
        "$$\\frac{dy}{dx} = -\\frac{2x}{9} \\cdot \\frac{2}{y}$$",
        "$$\\frac{dy}{dx} = -\\frac{4x}{9y}$$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = -\\frac{4x}{9y}$"
      ],
      "explanation": "(2x/9) + (y/2)(dy/dx) = 0 → dy/dx = -4x/(9y)"
    },
    {
      "id": "di-008",
      "topic": "circunferencias-elipses",
      "question": "Completa: Para $x^2 + y^2 = r^2$, la derivada implícita es $\\frac{dy}{dx} = $ _____",
      "type": "fill-blank",
      "blanks": ["$-\\frac{x}{y}$"],
      "distractors": ["$-\\frac{y}{x}$", "$\\frac{x}{y}$", "$-\\frac{2x}{2y}$", "$-x$", "$-y$"],
      "template": "Para $x^2 + y^2 = r^2$, la derivada implícita es $\\frac{dy}{dx} = $ _____",
      "difficulty": "facil",
      "hints": [
        "Deriva: 2x + 2y(dy/dx) = 0",
        "El radio r² es constante",
        "Simplifica al despejar"
      ],
      "stepByStep": [
        "📝 **Circunferencia general:** $x^2 + y^2 = r^2$",
        "",
        "🧮 **Derivación**",
        "",
        "$$2x + 2y\\frac{dy}{dx} = 0$$",
        "(La derivada de la constante $r^2$ es $0$)",
        "",
        "📊 **Despejamos**",
        "$$2y\\frac{dy}{dx} = -2x$$",
        "$$\\frac{dy}{dx} = -\\frac{x}{y}$$",
        "",
        "💡 **Nota**",
        "Esta fórmula es válida para cualquier radio $r$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = -\\frac{x}{y}$"
      ],
      "explanation": "dy/dx = -x/y para cualquier circunferencia x² + y² = r²"
    },
    {
      "id": "di-009",
      "topic": "derivadas-orden-superior",
      "question": "Para $x^2 + y^2 = 25$ con $\\frac{dy}{dx} = -\\frac{x}{y}$, ¿cómo hallamos $\\frac{d^2y}{dx^2}$?",
      "type": "multiple-choice",
      "options": [
        "Derivar implícitamente $\\frac{dy}{dx} = -\\frac{x}{y}$ usando regla del cociente",
        "Derivar $x^2 + y^2 = 25$ dos veces",
        "Simplemente: $\\frac{d^2y}{dx^2} = -\\frac{1}{y}$",
        "No se puede hallar segunda derivada implícita"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Ya tenemos dy/dx = -x/y",
        "Deriva esta expresión respecto a x",
        "Usa regla del cociente y cadena"
      ],
      "stepByStep": [
        "📝 **Segunda derivada implícita**",
        "",
        "**Tenemos:** $\\frac{dy}{dx} = -\\frac{x}{y}$",
        "",
        "🧮 **Derivamos nuevamente**",
        "",
        "$$\\frac{d^2y}{dx^2} = \\frac{d}{dx}\\left[-\\frac{x}{y}\\right]$$",
        "",
        "**Regla del cociente:**",
        "$$\\frac{d^2y}{dx^2} = -\\frac{(1)(y) - (x)\\left(\\frac{dy}{dx}\\right)}{y^2}$$",
        "",
        "🔄 **Sustituimos dy/dx = -x/y**",
        "$$\\frac{d^2y}{dx^2} = -\\frac{y - x\\left(-\\frac{x}{y}\\right)}{y^2}$$",
        "$$\\frac{d^2y}{dx^2} = -\\frac{y + \\frac{x^2}{y}}{y^2}$$",
        "",
        "📊 **Simplificamos**",
        "$$\\frac{d^2y}{dx^2} = -\\frac{\\frac{y^2 + x^2}{y}}{y^2} = -\\frac{y^2 + x^2}{y^3}$$",
        "",
        "Como $x^2 + y^2 = 25$:",
        "$$\\frac{d^2y}{dx^2} = -\\frac{25}{y^3}$$",
        "",
        "✅ **Método**",
        "Derivar implícitamente la primera derivada"
      ],
      "explanation": "Derivamos dy/dx = -x/y usando cociente, sustituyendo dy/dx en el resultado"
    },
    {
      "id": "di-010",
      "topic": "rectas-tangentes-implicitas",
      "question": "Para $x^2 + y^2 = 25$ en el punto $(3, 4)$, ¿cuál es la pendiente de la recta tangente? Ingresa tu respuesta como decimal con 2 cifras decimales.",
      "type": "numeric",
      "correct": -0.75,
      "tolerance": 0.005,
      "difficulty": "medio",
      "instructions": "Usa dy/dx = -x/y. Evalúa en (3,4): dy/dx = -3/4 = -0.75. Ingresa -0.75.",
      "format": "decimal_2_places",
      "acceptedAlternatives": ["-3/4"],
      "note": "Puedes ingresar -0.75 o -3/4, el sistema aceptará ambas formas",
      "hints": [
        "Usa dy/dx = -x/y",
        "Evalúa en (3, 4): dy/dx = -3/4",
        "-3/4 = -0.75"
      ],
      "stepByStep": [
        "📝 **Circunferencia:** $x^2 + y^2 = 25$",
        "",
        "**Punto:** $(3, 4)$",
        "",
        "🧮 **Derivada implícita**",
        "",
        "$$\\frac{dy}{dx} = -\\frac{x}{y}$$",
        "",
        "🎯 **Evaluamos en (3, 4)**",
        "",
        "$$m = \\frac{dy}{dx}\\bigg|_{(3,4)} = -\\frac{3}{4} = -0.75$$",
        "",
        "💡 **Verificación**",
        "* Radio: pendiente desde $(0,0)$ a $(3,4)$ es $\\frac{4}{3}$",
        "* Tangente es perpendicular: $m = -\\frac{3}{4}$ ✓",
        "",
        "✅ **Respuesta**",
        "Pendiente: $m = -0.75$"
      ],
      "explanation": "m = -x/y = -3/4 = -0.75 en el punto (3, 4)"
    },
    {
      "id": "di-011",
      "topic": "rectas-tangentes-implicitas",
      "question": "Para $x^2 + y^2 = 25$ en $(3, 4)$ con pendiente $m = -\\frac{3}{4}$, ¿cuál es la ecuación de la recta tangente?",
      "type": "multiple-choice",
      "options": [
        "$y - 4 = -\\frac{3}{4}(x - 3)$ o $3x + 4y = 25$",
        "$y - 3 = -\\frac{3}{4}(x - 4)$",
        "$y = -\\frac{3}{4}x$",
        "$4x - 3y = 0$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Usa forma punto-pendiente: y - y₁ = m(x - x₁)",
        "Punto: (3, 4), pendiente: -3/4",
        "Simplifica a forma general"
      ],
      "stepByStep": [
        "📝 **Datos**",
        "",
        "* Punto: $(3, 4)$",
        "* Pendiente: $m = -\\frac{3}{4}$",
        "",
        "🧮 **Forma punto-pendiente**",
        "",
        "$$y - y_1 = m(x - x_1)$$",
        "$$y - 4 = -\\frac{3}{4}(x - 3)$$",
        "",
        "📊 **Forma general (opcional)**",
        "",
        "$$y - 4 = -\\frac{3}{4}x + \\frac{9}{4}$$",
        "$$y = -\\frac{3}{4}x + \\frac{9}{4} + 4$$",
        "$$y = -\\frac{3}{4}x + \\frac{25}{4}$$",
        "",
        "**Multiplicamos por 4:**",
        "$$4y = -3x + 25$$",
        "$$3x + 4y = 25$$",
        "",
        "✅ **Respuestas equivalentes**",
        "* Punto-pendiente: $y - 4 = -\\frac{3}{4}(x - 3)$",
        "* General: $3x + 4y = 25$"
      ],
      "explanation": "y - 4 = -(3/4)(x - 3) o simplificado: 3x + 4y = 25"
    },
    {
      "id": "di-012",
      "topic": "rectas-tangentes-implicitas",
      "question": "Arrastra cada PUNTO de $x^2 + y^2 = 25$ hacia su PENDIENTE de tangente",
      "description": "Puntos en la circunferencia y sus pendientes tangentes.",
      "type": "drag-drop",
      "items": [
        "$(3, 4)$",
        "$(0, 5)$",
        "$(5, 0)$",
        "$(-3, -4)$"
      ],
      "categories": [
        "$m = -\\frac{3}{4}$",
        "$m = 0$",
        "$m = $ indefinida",
        "$m = -\\frac{3}{4}$"
      ],
      "correctMapping": [0, 1, 2, 3],
      "difficulty": "avanzado",
      "hints": [
        "Usa m = -x/y en cada punto",
        "En (0, 5): m = -0/5 = 0 (horizontal)",
        "En (5, 0): m = -5/0 indefinida (vertical)"
      ],
      "stepByStep": [
        "🔍 **Pendientes en x² + y² = 25**",
        "",
        "**Fórmula:** $m = -\\frac{x}{y}$",
        "",
        "**1. Punto (3, 4):**",
        "$$m = -\\frac{3}{4}$$",
        "",
        "**2. Punto (0, 5):**",
        "$$m = -\\frac{0}{5} = 0$$ (tangente horizontal)",
        "",
        "**3. Punto (5, 0):**",
        "$$m = -\\frac{5}{0}$$ indefinida (tangente vertical)",
        "",
        "**4. Punto (-3, -4):**",
        "$$m = -\\frac{-3}{-4} = -\\frac{3}{4}$$",
        "",
        "💡 **Observaciones**",
        "* Tangentes horizontales: puntos (0, ±r)",
        "* Tangentes verticales: puntos (±r, 0)",
        "* Puntos opuestos pueden tener misma pendiente"
      ],
      "explanation": "m = -x/y: (3,4)→-3/4, (0,5)→0, (5,0)→indefinida, (-3,-4)→-3/4"
    },
    {
      "id": "di-013",
      "topic": "aplicaciones-implicitas",
      "question": "Deriva implícitamente: $\\sin(xy) = y$",
      "type": "multiple-choice",
      "options": [
        "$\\frac{dy}{dx} = \\frac{y\\cos(xy)}{1 - x\\cos(xy)}$",
        "$\\frac{dy}{dx} = \\frac{\\cos(xy)}{1}$",
        "$\\frac{dy}{dx} = y\\cos(xy)$",
        "$\\frac{dy}{dx} = \\frac{x\\cos(xy)}{y}$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Lado izquierdo: usa cadena y producto",
        "d/dx[sin(xy)] = cos(xy)·d/dx[xy]",
        "d/dx[xy] = y + x(dy/dx)"
      ],
      "stepByStep": [
        "📝 **Ecuación:** $\\sin(xy) = y$",
        "",
        "🧮 **Derivar lado izquierdo (cadena + producto)**",
        "",
        "$$\\frac{d}{dx}[\\sin(xy)] = \\cos(xy) \\cdot \\frac{d}{dx}[xy]$$",
        "$$= \\cos(xy) \\cdot \\left[y + x\\frac{dy}{dx}\\right]$$",
        "$$= y\\cos(xy) + x\\cos(xy)\\frac{dy}{dx}$$",
        "",
        "🧮 **Derivar lado derecho**",
        "$$\\frac{d}{dx}[y] = \\frac{dy}{dx}$$",
        "",
        "📊 **Igualar**",
        "$$y\\cos(xy) + x\\cos(xy)\\frac{dy}{dx} = \\frac{dy}{dx}$$",
        "",
        "🔄 **Agrupar términos con dy/dx**",
        "$$x\\cos(xy)\\frac{dy}{dx} - \\frac{dy}{dx} = -y\\cos(xy)$$",
        "$$\\frac{dy}{dx}[x\\cos(xy) - 1] = -y\\cos(xy)$$",
        "",
        "✅ **Despejar**",
        "$$\\frac{dy}{dx} = \\frac{-y\\cos(xy)}{x\\cos(xy) - 1} = \\frac{y\\cos(xy)}{1 - x\\cos(xy)}$$"
      ],
      "explanation": "cos(xy)·[y + x(dy/dx)] = dy/dx, luego despejar dy/dx = y·cos(xy)/(1 - x·cos(xy))"
    },
    {
      "id": "di-014",
      "topic": "aplicaciones-implicitas",
      "question": "Deriva implícitamente: $e^{xy} = x + y$",
      "type": "multiple-choice",
      "options": [
        "$\\frac{dy}{dx} = \\frac{1 - ye^{xy}}{xe^{xy} - 1}$",
        "$\\frac{dy}{dx} = e^{xy}$",
        "$\\frac{dy}{dx} = \\frac{1}{1}$",
        "$\\frac{dy}{dx} = \\frac{ye^{xy}}{xe^{xy}}$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Lado izquierdo: usa cadena y producto",
        "d/dx[e^(xy)] = e^(xy)·[y + x(dy/dx)]",
        "Lado derecho: 1 + dy/dx"
      ],
      "stepByStep": [
        "📝 **Ecuación:** $e^{xy} = x + y$",
        "",
        "🧮 **Derivar lado izquierdo**",
        "",
        "$$\\frac{d}{dx}[e^{xy}] = e^{xy} \\cdot \\frac{d}{dx}[xy]$$",
        "$$= e^{xy} \\cdot \\left[y + x\\frac{dy}{dx}\\right]$$",
        "$$= ye^{xy} + xe^{xy}\\frac{dy}{dx}$$",
        "",
        "🧮 **Derivar lado derecho**",
        "$$\\frac{d}{dx}[x + y] = 1 + \\frac{dy}{dx}$$",
        "",
        "📊 **Igualar**",
        "$$ye^{xy} + xe^{xy}\\frac{dy}{dx} = 1 + \\frac{dy}{dx}$$",
        "",
        "🔄 **Agrupar**",
        "$$xe^{xy}\\frac{dy}{dx} - \\frac{dy}{dx} = 1 - ye^{xy}$$",
        "$$\\frac{dy}{dx}[xe^{xy} - 1] = 1 - ye^{xy}$$",
        "",
        "✅ **Despejar**",
        "$$\\frac{dy}{dx} = \\frac{1 - ye^{xy}}{xe^{xy} - 1}$$"
      ],
      "explanation": "e^(xy)·[y + x(dy/dx)] = 1 + dy/dx, despejar dy/dx = (1 - ye^(xy))/(xe^(xy) - 1)"
    },
    {
      "id": "di-015",
      "topic": "aplicaciones-implicitas",
      "question": "Para $x^3 + y^3 = 6xy$ (Folium de Descartes), ¿en qué puntos la tangente es horizontal?",
      "type": "multiple-choice",
      "options": [
        "Donde $\\frac{dy}{dx} = 0$, es decir, donde $2y - x^2 = 0$",
        "En el origen (0, 0)",
        "Donde $x = 0$",
        "Donde $y = 0$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Tangente horizontal cuando dy/dx = 0",
        "Ya sabemos: dy/dx = (2y - x²)/(y² - 2x)",
        "Numerador = 0: 2y - x² = 0"
      ],
      "stepByStep": [
        "📝 **Folium de Descartes:** $x^3 + y^3 = 6xy$",
        "",
        "**Derivada (ya calculada):**",
        "$$\\frac{dy}{dx} = \\frac{2y - x^2}{y^2 - 2x}$$",
        "",
        "🎯 **Tangente horizontal**",
        "",
        "**Condición:** $\\frac{dy}{dx} = 0$",
        "",
        "Esto ocurre cuando el **numerador es cero**:",
        "$$2y - x^2 = 0$$",
        "$$y = \\frac{x^2}{2}$$",
        "",
        "📊 **Encontrar puntos específicos**",
        "",
        "Sustituir $y = \\frac{x^2}{2}$ en la ecuación original:",
        "$$x^3 + \\left(\\frac{x^2}{2}\\right)^3 = 6x\\left(\\frac{x^2}{2}\\right)$$",
        "",
        "Resolver esta ecuación da los puntos exactos.",
        "",
        "✅ **Respuesta**",
        "Tangentes horizontales donde $2y - x^2 = 0$"
      ],
      "explanation": "Tangente horizontal cuando dy/dx = 0, es decir, cuando 2y - x² = 0"
    },
    {
      "id": "di-016",
      "topic": "aplicaciones-implicitas",
      "question": "Clasifica según el MÉTODO principal de derivación implícita",
      "description": "Organiza ecuaciones según la técnica principal requerida.",
      "type": "categorize",
      "items": [
        "$x^2 + y^2 = 25$",
        "$xy = 10$",
        "$\\sin(x + y) = x$",
        "$\\frac{x^2}{a^2} + \\frac{y^2}{b^2} = 1$"
      ],
      "categories": {
        "solo-cadena": "Solo regla de la cadena",
        "producto-cadena": "Regla del producto + cadena",
        "suma-cadena": "Suma + cadena en argumento",
        "division-simple": "División y cadena básica"
      },
      "correctCategories": {
        "$x^2 + y^2 = 25$": "solo-cadena",
        "$xy = 10$": "producto-cadena",
        "$\\sin(x + y) = x$": "suma-cadena",
        "$\\frac{x^2}{a^2} + \\frac{y^2}{b^2} = 1$": "division-simple"
      },
      "difficulty": "avanzado",
      "hints": [
        "x² + y²: solo derivar cada término",
        "xy: es producto, necesita (uv)'",
        "sin(x+y): argumento compuesto",
        "Elipse: fracciones pero sin producto"
      ],
      "stepByStep": [
        "🔍 **Análisis de técnicas**",
        "",
        "**1. x² + y² = 25:**",
        "* Solo cadena: d/dx[y²] = 2y(dy/dx)",
        "* Categoría: **solo-cadena**",
        "",
        "**2. xy = 10:**",
        "* Producto: (xy)' = y + x(dy/dx)",
        "* Categoría: **producto-cadena**",
        "",
        "**3. sin(x + y) = x:**",
        "* Argumento compuesto: d/dx[sin(x+y)] = cos(x+y)·[1 + dy/dx]",
        "* Categoría: **suma-cadena**",
        "",
        "**4. Elipse x²/a² + y²/b² = 1:**",
        "* Fracciones simples, cada término independiente",
        "* Categoría: **division-simple**"
      ],
      "explanation": "x²+y²: solo cadena; xy: producto; sin(x+y): suma en argumento; elipse: división simple"
    },
    {
      "id": "di-017",
      "topic": "aplicaciones-implicitas",
      "question": "Si $x^2 + xy + y^2 = 7$ y queremos $\\frac{dy}{dx}$ en $(2, 1)$, ¿cuál es el resultado? Ingresa tu respuesta como decimal con 2 cifras decimales.",
      "type": "numeric",
      "correct": -1.25,
      "tolerance": 0.005,
      "difficulty": "avanzado",
      "instructions": "Deriva implícitamente: 2x + y + x(dy/dx) + 2y(dy/dx) = 0. Agrupa términos y despeja dy/dx = -(2x+y)/(x+2y). Evalúa en (2,1).",
      "format": "decimal_2_places",
      "acceptedAlternatives": ["-5/4"],
      "hints": [
        "Deriva: 2x + [y + x(dy/dx)] + 2y(dy/dx) = 0",
        "Agrupa: (x + 2y)(dy/dx) = -2x - y",
        "Evalúa en (2, 1): -(4+1)/(2+2) = -5/4 = -1.25"
      ],
      "stepByStep": [
        "📝 **Ecuación:** $x^2 + xy + y^2 = 7$",
        "",
        "**Punto:** $(2, 1)$",
        "",
        "🧮 **Derivación implícita**",
        "",
        "$$2x + \\left[y + x\\frac{dy}{dx}\\right] + 2y\\frac{dy}{dx} = 0$$",
        "$$2x + y + x\\frac{dy}{dx} + 2y\\frac{dy}{dx} = 0$$",
        "",
        "📊 **Agrupar**",
        "$$\\frac{dy}{dx}(x + 2y) = -2x - y$$",
        "$$\\frac{dy}{dx} = \\frac{-2x - y}{x + 2y}$$",
        "",
        "🎯 **Evaluar en (2, 1)**",
        "$$\\frac{dy}{dx}\\bigg|_{(2,1)} = \\frac{-2(2) - 1}{2 + 2(1)}$$",
        "$$= \\frac{-4 - 1}{2 + 2} = \\frac{-5}{4} = -1.25$$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = -1.25$ en $(2, 1)$"
      ],
      "explanation": "dy/dx = -(2x+y)/(x+2y), en (2,1): -(4+1)/(2+2) = -5/4 = -1.25"
    },
    {
      "id": "di-018",
      "topic": "aplicaciones-implicitas",
      "question": "¿Cuál ecuación NO requiere derivación implícita?",
      "type": "multiple-choice",
      "options": [
        "$y = x^3 + 2x$",
        "$x^2 + y^2 = 16$",
        "$xy + y^2 = 10$",
        "$\\sin(xy) = y$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "¿Cuál tiene y ya despejada?",
        "y = x³ + 2x es explícita",
        "Las demás tienen x e y mezcladas"
      ],
      "stepByStep": [
        "🔍 **Análisis de ecuaciones**",
        "",
        "**A. y = x³ + 2x:**",
        "- ✅ **EXPLÍCITA**: y está despejada",
        "* Se deriva normalmente: y' = 3x² + 2",
        "- **NO requiere derivación implícita**",
        "",
        "**B. x² + y² = 16:**",
        "- ❌ Implícita",
        "",
        "**C. xy + y² = 10:**",
        "- ❌ Implícita",
        "",
        "**D. sin(xy) = y:**",
        "- ❌ Implícita",
        "",
        "✅ **Respuesta**",
        "$y = x^3 + 2x$ no requiere derivación implícita"
      ],
      "explanation": "y = x³ + 2x es explícita (y despejada), las demás son implícitas"
    },
    {
      "id": "di-019",
      "topic": "aplicaciones-implicitas",
      "question": "Para la hipérbola $x^2 - y^2 = 16$, ¿cuál es $\\frac{dy}{dx}$?",
      "type": "multiple-choice",
      "options": [
        "$\\frac{x}{y}$",
        "$-\\frac{x}{y}$",
        "$\\frac{y}{x}$",
        "$-\\frac{y}{x}$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Deriva: 2x - 2y(dy/dx) = 0",
        "Nota el signo MENOS en -y²",
        "Despeja: dy/dx = x/y"
      ],
      "stepByStep": [
        "📝 **Hipérbola:** $x^2 - y^2 = 16$",
        "",
        "🧮 **Derivación implícita**",
        "",
        "$$\\frac{d}{dx}[x^2 - y^2] = \\frac{d}{dx}[16]$$",
        "$$2x - 2y\\frac{dy}{dx} = 0$$",
        "",
        "📊 **Despejamos**",
        "$$2y\\frac{dy}{dx} = 2x$$",
        "$$\\frac{dy}{dx} = \\frac{2x}{2y} = \\frac{x}{y}$$",
        "",
        "💡 **Comparación con circunferencia**",
        "",
        "- **Circunferencia** $x^2 + y^2 = r^2$: $\\frac{dy}{dx} = -\\frac{x}{y}$",
        "- **Hipérbola** $x^2 - y^2 = k$: $\\frac{dy}{dx} = \\frac{x}{y}$",
        "",
        "La diferencia de signo se debe al $-y^2$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = \\frac{x}{y}$ (positivo)"
      ],
      "explanation": "2x - 2y(dy/dx) = 0 → dy/dx = x/y (positivo por el signo menos)"
    },
    {
      "id": "di-020",
      "topic": "aplicaciones-implicitas",
      "question": "Deriva implícitamente: $\\sqrt{x} + \\sqrt{y} = 4$",
      "type": "multiple-choice",
      "options": [
        "$\\frac{dy}{dx} = -\\sqrt{\\frac{y}{x}}$",
        "$\\frac{dy}{dx} = -\\sqrt{x}$",
        "$\\frac{dy}{dx} = \\sqrt{\\frac{y}{x}}$",
        "$\\frac{dy}{dx} = -\\frac{1}{2\\sqrt{y}}$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Reescribe: x^(1/2) + y^(1/2) = 4",
        "Deriva: (1/2)x^(-1/2) + (1/2)y^(-1/2)(dy/dx) = 0",
        "Simplifica"
      ],
      "stepByStep": [
        "📝 **Ecuación:** $\\sqrt{x} + \\sqrt{y} = 4$",
        "",
        "**Reescribimos:** $x^{1/2} + y^{1/2} = 4$",
        "",
        "🧮 **Derivación**",
        "",
        "$$\\frac{1}{2}x^{-1/2} + \\frac{1}{2}y^{-1/2}\\frac{dy}{dx} = 0$$",
        "$$\\frac{1}{2\\sqrt{x}} + \\frac{1}{2\\sqrt{y}}\\frac{dy}{dx} = 0$$",
        "",
        "📊 **Despejamos**",
        "$$\\frac{1}{2\\sqrt{y}}\\frac{dy}{dx} = -\\frac{1}{2\\sqrt{x}}$$",
        "$$\\frac{dy}{dx} = -\\frac{1}{2\\sqrt{x}} \\cdot 2\\sqrt{y}$$",
        "$$\\frac{dy}{dx} = -\\frac{\\sqrt{y}}{\\sqrt{x}}$$",
        "$$\\frac{dy}{dx} = -\\sqrt{\\frac{y}{x}}$$",
        "",
        "✅ **Respuesta**",
        "$\\frac{dy}{dx} = -\\sqrt{\\frac{y}{x}}$"
      ],
      "explanation": "(1/2√x) + (1/2√y)(dy/dx) = 0 → dy/dx = -√(y/x)"
    },
    {
      "id": "di-021",
      "topic": "aplicaciones-implicitas",
      "question": "¿Cuándo es útil la derivación implícita en aplicaciones prácticas?",
      "type": "multiple-choice",
      "options": [
        "Cuando la relación entre variables no se puede expresar como y = f(x)",
        "Solo para circunferencias",
        "Cuando queremos derivadas de segundo orden",
        "Nunca es necesaria en la práctica"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Muchas relaciones físicas son implícitas",
        "Ecuaciones de estado, curvas de nivel, restricciones",
        "No todas las relaciones se pueden despejar"
      ],
      "stepByStep": [
        "💡 **Utilidad de derivación implícita**",
        "",
        "🔬 **Aplicaciones prácticas:**",
        "",
        "**1. Termodinámica:**",
        "* Ecuación de estado: $PV = nRT$",
        "* Relaciones entre P, V, T sin despejar",
        "",
        "**2. Economía:**",
        "* Curvas de indiferencia",
        "* Restricciones presupuestarias implícitas",
        "",
        "**3. Geometría:**",
        "* Elipses, hipérbolas, curvas complejas",
        "* Folium, lemniscatas",
        "",
        "**4. Ingeniería:**",
        "* Ecuaciones de circuitos",
        "* Relaciones de diseño",
        "",
        "**5. Optimización con restricciones:**",
        "* Multiplicadores de Lagrange",
        "* Problemas de ingeniería",
        "",
        "✅ **Respuesta**",
        "Útil cuando no se puede expresar como y = f(x)"
      ],
      "explanation": "Esencial para relaciones que no se pueden despejar: termodinámica, economía, geometría compleja"
    },
    {
      "id": "di-022",
      "topic": "aplicaciones-implicitas",
      "question": "Para $x^2 + y^2 = 25$, ¿qué representa geométricamente $\\frac{dy}{dx} = -\\frac{x}{y}$?",
      "type": "multiple-choice",
      "options": [
        "La pendiente de la recta tangente perpendicular al radio",
        "La pendiente del radio",
        "La longitud de la tangente",
        "El ángulo con el eje x"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Radio desde centro (0,0) a (x,y) tiene pendiente y/x",
        "Tangente es perpendicular al radio",
        "Pendientes perpendiculares se relacionan: m₁·m₂ = -1"
      ],
      "stepByStep": [
        "🎨 **Interpretación geométrica**",
        "",
        "**Circunferencia:** $x^2 + y^2 = 25$ (centro en origen)",
        "",
        "📐 **Punto (x, y) en la circunferencia**",
        "",
        "**Radio:**",
        "* Va desde $(0, 0)$ hasta $(x, y)$",
        "* Pendiente del radio: $m_r = \\frac{y - 0}{x - 0} = \\frac{y}{x}$",
        "",
        "**Tangente:**",
        "* Perpendicular al radio",
        "* Pendiente: $m_t = \\frac{dy}{dx} = -\\frac{x}{y}$",
        "",
        "✅ **Verificación de perpendicularidad**",
        "",
        "$$m_r \\cdot m_t = \\frac{y}{x} \\cdot \\left(-\\frac{x}{y}\\right) = -1$$ ✓",
        "",
        "💡 **Conclusión**",
        "$\\frac{dy}{dx}$ es la pendiente de la tangente, perpendicular al radio"
      ],
      "explanation": "dy/dx = -x/y es la pendiente de la tangente, perpendicular al radio que tiene pendiente y/x"
    }
  ]
}
