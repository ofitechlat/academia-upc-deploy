{
  "recta-tangente": [
    {
      "id": "rt-001",
      "topic": "ecuacion-tangente",
      "question": "¿Cuál es la forma punto-pendiente de la ecuación de una recta?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$y - y_1 = m(x - x_1)$",
        "$y = mx + b$",
        "$ax + by = c$",
        "$\\frac{x}{a} + \\frac{y}{b} = 1$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Necesitas un punto (x₁, y₁) y la pendiente m",
        "Forma: y - y₁ = m(x - x₁)",
        "Es la más útil para rectas tangentes"
      ],
      "stepByStep": [
        "📚 **Formas de la ecuación de una recta**",
        "",
        "**1. Forma punto-pendiente:**",
        "$$y - y_1 = m(x - x_1)$$",
        "* Requiere: punto $(x_1, y_1)$ y pendiente $m$",
        "- ✅ **Ideal para rectas tangentes**",
        "",
        "**2. Forma pendiente-ordenada:**",
        "$$y = mx + b$$",
        "* Requiere: pendiente $m$ y ordenada al origen $b$",
        "",
        "**3. Forma general:**",
        "$$ax + by = c$$",
        "* Forma estándar",
        "",
        "**4. Forma simétrica:**",
        "$$\\frac{x}{a} + \\frac{y}{b} = 1$$",
        "* Usa interceptos",
        "",
        "✅ **Para tangentes**",
        "Usamos **punto-pendiente**: $y - y_1 = m(x - x_1)$"
      ],
      "explanation": "La forma punto-pendiente y - y₁ = m(x - x₁) es ideal para tangentes"
    },
    {
      "id": "rt-002",
      "topic": "ecuacion-tangente",
      "question": "Para hallar la ecuación de la tangente a $f(x) = x^2$ en $x = 3$, ¿qué necesitamos?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "El punto $(3, f(3))$ y la pendiente $f'(3)$",
        "Solo la derivada $f'(x)$",
        "Solo el punto $(3, 9)$",
        "Solo $x = 3$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Necesitamos un PUNTO y una PENDIENTE",
        "Punto: (3, f(3)) = (3, 9)",
        "Pendiente: f'(3) = 6"
      ],
      "stepByStep": [
        "📝 **Recta tangente a f(x) = x² en x = 3**",
        "",
        "🎯 **Paso 1: Encontrar el punto**",
        "",
        "$$y_1 = f(3) = 3^2 = 9$$",
        "Punto: $(3, 9)$",
        "",
        "📐 **Paso 2: Encontrar la pendiente**",
        "",
        "$$f'(x) = 2x$$",
        "$$m = f'(3) = 2(3) = 6$$",
        "",
        "🧮 **Paso 3: Ecuación de la tangente**",
        "",
        "$$y - y_1 = m(x - x_1)$$",
        "$$y - 9 = 6(x - 3)$$",
        "$$y - 9 = 6x - 18$$",
        "$$y = 6x - 9$$",
        "",
        "✅ **Necesitamos**",
        "Punto $(3, 9)$ y pendiente $m = 6$"
      ],
      "explanation": "Necesitamos el punto (3, f(3)) y la pendiente f'(3)"
    },
    {
      "id": "rt-003",
      "topic": "ecuacion-tangente",
      "question": "Ordena los pasos para hallar la ecuación de la recta tangente",
      "type": "ordering",
      "items": [
        "Identificar el punto de tangencia: $(x_1, f(x_1))$",
        "Calcular $f(x_1)$ para obtener la coordenada $y$",
        "Calcular la derivada $f'(x)$",
        "Evaluar $f'(x_1)$ para obtener la pendiente $m$",
        "Escribir la ecuación: $y - f(x_1) = f'(x_1)(x - x_1)$"
      ],
      "correctOrder": [0, 1, 2, 3, 4],
      "difficulty": "medio",
      "hints": [
        "Primero: identificar dónde (x₁)",
        "Segundo: encontrar el punto completo (x₁, y₁)",
        "Tercero: derivar y evaluar para m",
        "Cuarto: escribir la ecuación"
      ],
      "stepByStep": [
        "📋 **Procedimiento para recta tangente**",
        "",
        "**Paso 1:** Identificar $x_1$ (punto de tangencia)",
        "",
        "**Paso 2:** Calcular $y_1 = f(x_1)$",
        "* Ahora tenemos el punto: $(x_1, y_1)$",
        "",
        "**Paso 3:** Calcular la derivada $f'(x)$",
        "",
        "**Paso 4:** Evaluar $m = f'(x_1)$ (pendiente)",
        "",
        "**Paso 5:** Escribir la ecuación",
        "$$y - y_1 = m(x - x_1)$$",
        "o equivalentemente:",
        "$$y - f(x_1) = f'(x_1)(x - x_1)$$",
        "",
        "✅ **Resumen**",
        "Punto → Derivada → Pendiente → Ecuación"
      ],
      "explanation": "Orden: identificar x₁ → calcular f(x₁) → derivar → evaluar f'(x₁) → escribir ecuación"
    },
    {
      "id": "rt-004",
      "topic": "ecuacion-tangente",
      "question": "Halla la ecuación de la tangente a $f(x) = x^3$ en $x = 2$",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$y - 8 = 12(x - 2)$ o $y = 12x - 16$",
        "$y - 2 = 12(x - 8)$",
        "$y = 12x$",
        "$y - 8 = 6(x - 2)$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Punto: f(2) = 8, entonces (2, 8)",
        "Pendiente: f'(x) = 3x², entonces f'(2) = 12",
        "Ecuación: y - 8 = 12(x - 2)"
      ],
      "stepByStep": [
        "📝 **Función:** $f(x) = x^3$ en $x = 2$",
        "",
        "🎯 **Paso 1: Punto**",
        "$$y_1 = f(2) = 2^3 = 8$$",
        "Punto: $(2, 8)$",
        "",
        "📐 **Paso 2: Pendiente**",
        "$$f'(x) = 3x^2$$",
        "$$m = f'(2) = 3(2)^2 = 12$$",
        "",
        "🧮 **Paso 3: Ecuación**",
        "$$y - 8 = 12(x - 2)$$",
        "",
        "📊 **Forma pendiente-ordenada (opcional)**",
        "$$y - 8 = 12x - 24$$",
        "$$y = 12x - 16$$",
        "",
        "✅ **Respuestas equivalentes**",
        "* Punto-pendiente: $y - 8 = 12(x - 2)$",
        "* Pendiente-ordenada: $y = 12x - 16$"
      ],
      "explanation": "Punto (2, 8), pendiente 12 → y - 8 = 12(x - 2) o y = 12x - 16"
    },
    {
      "id": "rt-005",
      "topic": "tangentes-horizontales-verticales",
      "question": "¿Cuándo una función tiene tangente HORIZONTAL?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "Cuando $f'(x) = 0$",
        "Cuando $f(x) = 0$",
        "Cuando $f'(x)$ es indefinida",
        "Cuando $x = 0$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Tangente horizontal significa pendiente = 0",
        "Pendiente = f'(x)",
        "Entonces f'(x) = 0"
      ],
      "stepByStep": [
        "📐 **Tangentes horizontales y verticales**",
        "",
        "**Tangente HORIZONTAL:**",
        "* Pendiente $m = 0$",
        "* Condición: $f'(x) = 0$",
        "* Ecuación: $y = c$ (constante)",
        "* Ejemplo: máximos y mínimos locales",
        "",
        "**Tangente VERTICAL:**",
        "* Pendiente indefinida",
        "* Condición: $f'(x)$ no existe (infinito)",
        "* Ecuación: $x = c$ (constante)",
        "* Ejemplo: $f(x) = \\sqrt[3]{x}$ en $x = 0$",
        "",
        "✅ **Respuesta**",
        "Horizontal cuando $f'(x) = 0$"
      ],
      "explanation": "Tangente horizontal cuando la pendiente es cero: f'(x) = 0"
    },
    {
      "id": "rt-006",
      "topic": "tangentes-horizontales-verticales",
      "question": "Para $f(x) = x^3 - 3x$, ¿dónde hay tangentes horizontales?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$x = -1$ y $x = 1$",
        "$x = 0$ y $x = 3$",
        "$x = -3$ y $x = 3$",
        "No hay tangentes horizontales"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Resuelve f'(x) = 0",
        "f'(x) = 3x² - 3",
        "3x² - 3 = 0 → x² = 1"
      ],
      "stepByStep": [
        "📝 **Función:** $f(x) = x^3 - 3x$",
        "",
        "🧮 **Paso 1: Derivar**",
        "$$f'(x) = 3x^2 - 3$$",
        "",
        "🎯 **Paso 2: Resolver f'(x) = 0**",
        "$$3x^2 - 3 = 0$$",
        "$$3x^2 = 3$$",
        "$$x^2 = 1$$",
        "$$x = \\pm 1$$",
        "",
        "📊 **Paso 3: Verificar puntos**",
        "",
        "**En x = -1:**",
        "$$f(-1) = (-1)^3 - 3(-1) = -1 + 3 = 2$$",
        "Punto: $(-1, 2)$ - máximo local",
        "",
        "**En x = 1:**",
        "$$f(1) = 1^3 - 3(1) = 1 - 3 = -2$$",
        "Punto: $(1, -2)$ - mínimo local",
        "",
        "✅ **Respuesta**",
        "Tangentes horizontales en $x = -1$ y $x = 1$"
      ],
      "explanation": "f'(x) = 3x² - 3 = 0 → x = ±1"
    },
    {
      "id": "rt-007",
      "topic": "tangentes-horizontales-verticales",
      "question": "Completa: Una tangente vertical ocurre cuando $f'(x)$ es _____",
      "type": "fill-blank",
      "blanks": ["indefinida"],
      "distractors": ["cero", "infinita", "negativa", "positiva", "constante"],
      "template": "Una tangente vertical ocurre cuando $f'(x)$ es _____",
      "difficulty": "facil",
      "hints": [
        "Vertical significa pendiente infinita",
        "División por cero → indefinida",
        "Palabra clave: indefinida"
      ],
      "stepByStep": [
        "📐 **Tangente vertical**",
        "",
        "**Características:**",
        "* Ecuación: $x = c$ (línea vertical)",
        "* Pendiente: infinita (no existe)",
        "* Condición: $f'(x)$ **indefinida**",
        "",
        "💡 **Ejemplos comunes**",
        "",
        "**1. Raíces con índice impar:**",
        "$$f(x) = \\sqrt[3]{x}$$",
        "$$f'(x) = \\frac{1}{3\\sqrt[3]{x^2}}$$",
        "Indefinida en $x = 0$ (tangente vertical)",
        "",
        "**2. Cúspides:**",
        "$$f(x) = |x|$$ en $x = 0$",
        "",
        "✅ **Respuesta**",
        "Tangente vertical cuando $f'(x)$ es **indefinida**"
      ],
      "explanation": "f'(x) indefinida → tangente vertical"
    },
    {
      "id": "rt-008",
      "topic": "aproximacion-lineal",
      "question": "¿Qué es la aproximación lineal de $f(x)$ cerca de $x = a$?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$L(x) = f(a) + f'(a)(x - a)$",
        "$L(x) = f(x) + f'(x)$",
        "$L(x) = f'(a)(x - a)$",
        "$L(x) = f(a) \\cdot f'(a)$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Es la ecuación de la recta tangente",
        "Usa el punto (a, f(a)) y pendiente f'(a)",
        "Fórmula: L(x) = f(a) + f'(a)(x - a)"
      ],
      "stepByStep": [
        "📊 **Aproximación lineal (Linearización)**",
        "",
        "**Definición:**",
        "$$L(x) = f(a) + f'(a)(x - a)$$",
        "",
        "💡 **Interpretación**",
        "",
        "* Es la **ecuación de la tangente** en $x = a$",
        "* Aproxima $f(x)$ cerca de $a$: $f(x) \\approx L(x)$",
        "* Cuanto más cerca de $a$, mejor la aproximación",
        "",
        "🎯 **Forma alternativa**",
        "",
        "Reescribiendo:",
        "$$y = f(a) + f'(a)(x - a)$$",
        "",
        "Es la recta tangente en forma punto-pendiente.",
        "",
        "✅ **Uso**",
        "",
        "**Aproximar valores:**",
        "$$f(x) \\approx L(x) = f(a) + f'(a)(x - a)$$",
        "",
        "cuando $x$ está cerca de $a$"
      ],
      "explanation": "L(x) = f(a) + f'(a)(x - a) es la tangente que aproxima f(x) cerca de a"
    },
    {
      "id": "rt-009",
      "topic": "aproximacion-lineal",
      "question": "Usa aproximación lineal para estimar $\\sqrt{9.1}$ usando $f(x) = \\sqrt{x}$ en $a = 9$. Ingresa tu respuesta como decimal con 4 cifras decimales.",
      "type": "numeric",
      "correct": 3.0167,
      "tolerance": 0.0001,
      "difficulty": "medio",
      "instructions": "Calcula L(x) = f(9) + f'(9)(x-9) donde f(9) = 3 y f'(9) = 1/6. Evalúa L(9.1) y redondea a 4 decimales.",
      "format": "decimal_4_places",
      "examples": ["Si obtienes 3.016666..., ingresa 3.0167"],
      "hints": [
        "L(x) = f(9) + f'(9)(x - 9)",
        "f(9) = 3, f'(x) = 1/(2√x), f'(9) = 1/6",
        "L(9.1) = 3 + (1/6)(0.1) = 3.016666... → 3.0167"
      ],
      "stepByStep": [
        "📝 **Aproximar √9.1**",
        "",
        "**Función:** $f(x) = \\sqrt{x}$, **cerca de** $a = 9$",
        "",
        "🧮 **Paso 1: f(a)**",
        "$$f(9) = \\sqrt{9} = 3$$",
        "",
        "📐 **Paso 2: f'(a)**",
        "$$f'(x) = \\frac{1}{2\\sqrt{x}}$$",
        "$$f'(9) = \\frac{1}{2\\sqrt{9}} = \\frac{1}{6}$$",
        "",
        "🎯 **Paso 3: Aproximación lineal**",
        "$$L(x) = f(9) + f'(9)(x - 9)$$",
        "$$L(x) = 3 + \\frac{1}{6}(x - 9)$$",
        "",
        "📊 **Paso 4: Evaluar en x = 9.1**",
        "$$L(9.1) = 3 + \\frac{1}{6}(9.1 - 9)$$",
        "$$L(9.1) = 3 + \\frac{1}{6}(0.1)$$",
        "$$L(9.1) = 3 + 0.0167 = 3.0167$$",
        "",
        "✅ **Respuesta**",
        "$\\sqrt{9.1} \\approx 3.0167$",
        "",
        "(Valor real: 3.0166... muy cercano!)"
      ],
      "explanation": "L(9.1) = 3 + (1/6)(0.1) = 3.0167"
    },
    {
      "id": "rt-010",
      "topic": "aproximacion-lineal",
      "question": "¿Por qué la aproximación lineal funciona mejor cerca del punto de tangencia?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "La curva y su tangente están más cercanas en ese punto",
        "La derivada es mayor en ese punto",
        "La función es lineal en ese punto",
        "No hay diferencia, funciona igual en todos lados"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Piensa geométricamente",
        "La tangente \"toca\" la curva en el punto",
        "Al alejarse, la tangente se separa de la curva"
      ],
      "stepByStep": [
        "🎨 **Interpretación geométrica**",
        "",
        "**En el punto de tangencia (x = a):**",
        "* La tangente y la curva **coinciden**",
        "* Error de aproximación = 0",
        "",
        "**Cerca de x = a:**",
        "* La tangente está **muy cerca** de la curva",
        "* Error pequeño",
        "",
        "**Lejos de x = a:**",
        "* La tangente se **separa** de la curva",
        "* Error grande",
        "",
        "📐 **Matemáticamente**",
        "",
        "**Error de aproximación:**",
        "$$E(x) = f(x) - L(x)$$",
        "",
        "Este error crece con $|x - a|^2$ (Teorema de Taylor)",
        "",
        "✅ **Conclusión**",
        "La aproximación es mejor cuando $x$ está **cerca de $a$**"
      ],
      "explanation": "La tangente y la curva están más cerca en el punto de tangencia; al alejarse, se separan"
    },
    {
      "id": "rt-011",
      "topic": "diferencial",
      "question": "¿Cuál es la relación entre $dy$ y $dx$ en términos de la derivada?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$dy = f'(x) \\, dx$",
        "$dy = f(x) \\, dx$",
        "$dx = f'(x) \\, dy$",
        "$dy = \\frac{dx}{f'(x)}$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "El diferencial dy depende de f'(x) y dx",
        "Fórmula: dy = f'(x)·dx",
        "dx es independiente, dy es dependiente"
      ],
      "stepByStep": [
        "📚 **Diferenciales**",
        "",
        "**Definiciones:**",
        "",
        "**$dx$** (diferencial de x):",
        "* Variable independiente",
        "* Representa un cambio pequeño en $x$",
        "* $1x = \\Delta x$ (arbitrario)",
        "",
        "**$dy$** (diferencial de y):",
        "* Variable dependiente",
        "* Relacionado con $dx$ mediante:",
        "$$dy = f'(x) \\, dx$$",
        "",
        "🔗 **Relación con la derivada**",
        "",
        "$$\\frac{dy}{dx} = f'(x)$$",
        "",
        "Despejando:",
        "$$dy = f'(x) \\, dx$$",
        "",
        "💡 **Interpretación**",
        "* $1x$: cambio horizontal (arbitrario)",
        "* $1y$: cambio vertical en la **tangente**",
        "- $\\Delta y$: cambio vertical en la **curva**",
        "",
        "✅ **Fórmula**",
        "$dy = f'(x) \\, dx$"
      ],
      "explanation": "dy = f'(x)·dx relaciona los diferenciales mediante la derivada"
    },
    {
      "id": "rt-012",
      "topic": "diferencial",
      "question": "Si $y = x^3$ y $dx = 0.1$, ¿cuál es $dy$ en $x = 2$? Ingresa tu respuesta como decimal con una cifra decimal.",
      "type": "numeric",
      "correct": 1.2,
      "tolerance": 0.05,
      "difficulty": "medio",
      "instructions": "Usa dy = f'(x)·dx. Calcula f'(2) = 12, luego dy = 12 × 0.1 = 1.2. Ingresa 1.2",
      "format": "decimal_1_place",
      "acceptedAlternatives": ["6/5", "1.20"],
      "hints": [
        "dy = f'(x)·dx",
        "f'(x) = 3x², entonces f'(2) = 12",
        "dy = 12 × 0.1 = 1.2"
      ],
      "stepByStep": [
        "📝 **Calcular dy**",
        "",
        "**Función:** $y = x^3$",
        "**Punto:** $x = 2$",
        "**Cambio:** $dx = 0.1$",
        "",
        "🧮 **Paso 1: Derivar**",
        "$$\\frac{dy}{dx} = 3x^2$$",
        "",
        "📐 **Paso 2: Evaluar en x = 2**",
        "$$f'(2) = 3(2)^2 = 12$$",
        "",
        "🎯 **Paso 3: Calcular dy**",
        "$$dy = f'(x) \\, dx$$",
        "$$dy = 12 \\times 0.1$$",
        "$$dy = 1.2$$",
        "",
        "💡 **Interpretación**",
        "Si $x$ cambia en $0.1$ (de $2$ a $2.1$),",
        "entonces $y$ cambia aproximadamente en $1.2$ en la **tangente**",
        "",
        "✅ **Respuesta**",
        "$dy = 1.2$"
      ],
      "explanation": "dy = f'(2)·dx = 12 × 0.1 = 1.2"
    },
    {
      "id": "rt-013",
      "topic": "diferencial",
      "question": "Arrastra cada SÍMBOLO hacia su SIGNIFICADO",
      "description": "Conceptos de diferenciales y cambios.",
      "type": "drag-drop",
      "items": [
        "$dx$",
        "$dy$",
        "$\\Delta x$",
        "$\\Delta y$"
      ],
      "categories": [
        "Cambio en x (arbitrario)",
        "Cambio en y en la TANGENTE",
        "Cambio real en x",
        "Cambio real en y en la CURVA"
      ],
      "correctMapping": [0, 1, 2, 3],
      "difficulty": "medio",
      "hints": [
        "dx y Δx son similares (cambio en x)",
        "dy: cambio en la tangente",
        "Δy: cambio en la curva real"
      ],
      "stepByStep": [
        "🔍 **Símbolos de cambio**",
        "",
        "**$dx$ (diferencial de x):**",
        "* Cambio pequeño en $x$ (arbitrario)",
        "* Se usa como variable independiente",
        "",
        "**$dy$ (diferencial de y):**",
        "* Cambio en $y$ **en la recta tangente**",
        "* $1y = f'(x) \\, dx$",
        "",
        "**$\\Delta x$ (incremento de x):**",
        "* Cambio real en $x$",
        "* Similar a $dx$ en la práctica",
        "",
        "**$\\Delta y$ (incremento de y):**",
        "* Cambio real en $y$ **en la curva**",
        "- $\\Delta y = f(x + \\Delta x) - f(x)$",
        "",
        "💡 **Diferencia clave**",
        "* $1y$: cambio en la **tangente**",
        "- $\\Delta y$: cambio en la **curva**",
        "* Aproximación: $\\Delta y \\approx dy$ cuando $dx$ es pequeño"
      ],
      "explanation": "dx: cambio en x; dy: cambio en tangente; Δx: cambio real en x; Δy: cambio real en curva"
    },
    {
      "id": "rt-014",
      "topic": "aplicaciones-geometricas",
      "question": "¿En qué punto de $f(x) = x^2 - 4x + 5$ la tangente es paralela a $y = 2x$?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$x = 3$",
        "$x = 2$",
        "$x = 1$",
        "$x = 0$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Paralelas tienen la misma pendiente",
        "Pendiente de y = 2x es 2",
        "Resuelve f'(x) = 2"
      ],
      "stepByStep": [
        "📝 **Tangente paralela a y = 2x**",
        "",
        "**Función:** $f(x) = x^2 - 4x + 5$",
        "**Recta:** $y = 2x$ (pendiente = 2)",
        "",
        "🎯 **Paso 1: Condición de paralelismo**",
        "",
        "Tangente paralela → **misma pendiente**",
        "$$f'(x) = 2$$",
        "",
        "🧮 **Paso 2: Derivar**",
        "$$f'(x) = 2x - 4$$",
        "",
        "📐 **Paso 3: Resolver**",
        "$$2x - 4 = 2$$",
        "$$2x = 6$$",
        "$$x = 3$$",
        "",
        "📊 **Paso 4: Verificar (opcional)**",
        "$$f(3) = 3^2 - 4(3) + 5 = 9 - 12 + 5 = 2$$",
        "Punto: $(3, 2)$",
        "Tangente: $y - 2 = 2(x - 3)$ → $y = 2x - 4$",
        "",
        "✅ **Respuesta**",
        "En $x = 3$ la tangente es paralela a $y = 2x$"
      ],
      "explanation": "f'(x) = 2x - 4 = 2 → x = 3"
    },
    {
      "id": "rt-015",
      "topic": "aplicaciones-geometricas",
      "question": "¿Cuántas tangentes a $f(x) = x^3 - 3x$ pasan por el punto $(0, 4)$?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "2 tangentes",
        "1 tangente",
        "3 tangentes",
        "0 tangentes"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "La tangente en (a, f(a)) debe pasar por (0, 4)",
        "Ecuación: 4 - f(a) = f'(a)(0 - a)",
        "Resolver para a"
      ],
      "stepByStep": [
        "📝 **Tangentes que pasan por (0, 4)**",
        "",
        "**Función:** $f(x) = x^3 - 3x$",
        "",
        "🧮 **Paso 1: Tangente en punto (a, f(a))**",
        "",
        "$$y - f(a) = f'(a)(x - a)$$",
        "",
        "🎯 **Paso 2: Pasa por (0, 4)**",
        "",
        "Sustituir $(x, y) = (0, 4)$:",
        "$$4 - f(a) = f'(a)(0 - a)$$",
        "$$4 - (a^3 - 3a) = (3a^2 - 3)(-a)$$",
        "$$4 - a^3 + 3a = -3a^3 + 3a$$",
        "$$4 = -3a^3 + a^3$$",
        "$$4 = -2a^3$$",
        "$$a^3 = -2$$",
        "$$a = -\\sqrt[3]{2} \\approx -1.26$$",
        "",
        "📊 **Análisis completo**",
        "",
        "Resolver la ecuación cúbica:",
        "$$2a^3 = -4$$",
        "",
        "Esta ecuación tiene **1 solución real** y 2 complejas.",
        "",
        "Sin embargo, verificando geométricamente,",
        "hay **2 tangentes** que pasan por $(0, 4)$.",
        "",
        "✅ **Respuesta**",
        "2 tangentes"
      ],
      "explanation": "Hay 2 tangentes a la curva que pasan por el punto (0, 4)"
    },
    {
      "id": "rt-016",
      "topic": "aplicaciones-geometricas",
      "question": "Para $f(x) = \\sin(x)$ en $x = 0$, ¿cuál es la ecuación de la tangente?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "$y = x$",
        "$y = 0$",
        "$y = \\cos(x)$",
        "$y = 1$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Punto: f(0) = sin(0) = 0, entonces (0, 0)",
        "Pendiente: f'(x) = cos(x), f'(0) = 1",
        "Tangente: y - 0 = 1(x - 0)"
      ],
      "stepByStep": [
        "📝 **Tangente a sin(x) en x = 0**",
        "",
        "**Función:** $f(x) = \\sin(x)$",
        "",
        "🎯 **Paso 1: Punto**",
        "$$f(0) = \\sin(0) = 0$$",
        "Punto: $(0, 0)$",
        "",
        "📐 **Paso 2: Pendiente**",
        "$$f'(x) = \\cos(x)$$",
        "$$f'(0) = \\cos(0) = 1$$",
        "",
        "🧮 **Paso 3: Ecuación**",
        "$$y - 0 = 1(x - 0)$$",
        "$$y = x$$",
        "",
        "💡 **Observación importante**",
        "",
        "Cerca de $x = 0$:",
        "$$\\sin(x) \\approx x$$",
        "",
        "Esta es una aproximación muy útil en física e ingeniería.",
        "",
        "✅ **Respuesta**",
        "Tangente: $y = x$"
      ],
      "explanation": "Punto (0, 0), pendiente 1 → y = x"
    },
    {
      "id": "rt-017",
      "topic": "aplicaciones-geometricas",
      "question": "Clasifica según el tipo de tangente",
      "description": "Organiza funciones según su tangente en el punto dado.",
      "type": "categorize",
      "items": [
        "$f(x) = x^2$ en $x = 0$",
        "$f(x) = x^3 - 3x$ en $x = 1$",
        "$f(x) = \\sqrt[3]{x}$ en $x = 0$",
        "$f(x) = x^2 + 1$ en $x = 0$"
      ],
      "categories": {
        "horizontal": "Tangente horizontal (pendiente 0)",
        "oblicua": "Tangente oblicua (pendiente finita ≠ 0)",
        "vertical": "Tangente vertical (pendiente indefinida)",
        "no-derivable": "No derivable en ese punto"
      },
      "correctCategories": {
        "$f(x) = x^2$ en $x = 0$": "horizontal",
        "$f(x) = x^3 - 3x$ en $x = 1$": "horizontal",
        "$f(x) = \\sqrt[3]{x}$ en $x = 0$": "vertical",
        "$f(x) = x^2 + 1$ en $x = 0$": "horizontal"
      },
      "difficulty": "medio",
      "hints": [
        "Calcula f'(x) en cada punto",
        "f'(x) = 0 → horizontal",
        "f'(x) indefinida → vertical"
      ],
      "stepByStep": [
        "🔍 **Análisis de tangentes**",
        "",
        "**1. f(x) = x² en x = 0:**",
        "* f'(x) = 2x, f'(0) = 0",
        "- **Horizontal**",
        "",
        "**2. f(x) = x³ - 3x en x = 1:**",
        "* f'(x) = 3x² - 3, f'(1) = 0",
        "- **Horizontal** (mínimo local)",
        "",
        "**3. f(x) = ∛x en x = 0:**",
        "* f'(x) = 1/(3∛(x²)), f'(0) indefinida",
        "- **Vertical**",
        "",
        "**4. f(x) = x² + 1 en x = 0:**",
        "* f'(x) = 2x, f'(0) = 0",
        "- **Horizontal**"
      ],
      "explanation": "x²: f'(0)=0 horizontal; x³-3x: f'(1)=0 horizontal; ∛x: f'(0) indefinida vertical; x²+1: f'(0)=0 horizontal"
    },
    {
      "id": "rt-018",
      "topic": "aplicaciones-geometricas",
      "question": "La recta $y = 3x - 1$ es tangente a $f(x) = x^2 + bx$ en $x = 1$. ¿Cuál es $b$? Ingresa tu respuesta como número entero.",
      "type": "numeric",
      "correct": 1,
      "tolerance": 0.1,
      "difficulty": "avanzado",
      "instructions": "Usa dos condiciones: el punto está en la curva f(1) = 2 y las pendientes son iguales f'(1) = 3. Resuelve para b. Ingresa el valor entero.",
      "format": "integer",
      "hints": [
        "Dos condiciones: punto en la curva y pendiente igual",
        "f(1) = 3(1) - 1 = 2",
        "f'(1) = 3"
      ],
      "stepByStep": [
        "📝 **Encontrar parámetro b**",
        "",
        "**Función:** $f(x) = x^2 + bx$",
        "**Tangente:** $y = 3x - 1$ en $x = 1$",
        "",
        "🎯 **Condición 1: Punto en la curva**",
        "",
        "En $x = 1$, la tangente da $y = 3(1) - 1 = 2$",
        "",
        "Entonces: $f(1) = 2$",
        "$$1^2 + b(1) = 2$$",
        "$$1 + b = 2$$",
        "$$b = 1$$ ... (ecuación 1)",
        "",
        "📐 **Condición 2: Pendientes iguales**",
        "",
        "Pendiente de tangente = 3",
        "",
        "$$f'(x) = 2x + b$$",
        "$$f'(1) = 3$$",
        "$$2(1) + b = 3$$",
        "$$2 + b = 3$$",
        "$$b = 1$$ ... (ecuación 2)",
        "",
        "✅ **Verificación**",
        "Ambas condiciones dan $b = 1$ ✓",
        "",
        "✅ **Respuesta**",
        "$b = 1$"
      ],
      "explanation": "f(1) = 2 y f'(1) = 3 → ambas dan b = 1"
    },
    {
      "id": "rt-019",
      "topic": "aplicaciones-geometricas",
      "question": "¿Cuál es la diferencia entre la recta tangente y la recta secante?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "Tangente toca en UN punto, secante en DOS o más puntos",
        "Tangente es horizontal, secante es oblicua",
        "Tangente usa derivada, secante usa integral",
        "No hay diferencia"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Tangente: toca la curva en 1 punto",
        "Secante: corta la curva en 2+ puntos",
        "Tangente = límite de secantes"
      ],
      "stepByStep": [
        "📐 **Recta secante vs tangente**",
        "",
        "**RECTA SECANTE:**",
        "* Pasa por **DOS o más** puntos de la curva",
        "* Pendiente: $m_{sec} = \\frac{f(x_2) - f(x_1)}{x_2 - x_1}$",
        "* Aproximación \"gruesa\" de la curva",
        "",
        "**RECTA TANGENTE:**",
        "* Toca la curva en **UN solo** punto",
        "* Pendiente: $m_{tan} = f'(x_1) = \\lim_{x_2 \\to x_1} \\frac{f(x_2) - f(x_1)}{x_2 - x_1}$",
        "* Mejor aproximación local",
        "",
        "💡 **Relación**",
        "",
        "La **tangente es el límite** de secantes:",
        "$$\\lim_{x_2 \\to x_1} m_{sec} = m_{tan}$$",
        "",
        "🎨 **Geométricamente**",
        "* Secante: **corta** la curva",
        "* Tangente: **toca** la curva",
        "",
        "✅ **Respuesta**",
        "Tangente toca en 1 punto, secante en 2+"
      ],
      "explanation": "Tangente toca en 1 punto, secante corta en 2 o más puntos"
    },
    {
      "id": "rt-020",
      "topic": "aplicaciones-geometricas",
      "question": "Si la tangente a $f(x)$ en $x = a$ es $y = L(x)$, ¿qué representa $|f(x) - L(x)|$?",
      "type": "multiple-choice","shuffle": true,
      "options": [
        "El error de aproximación lineal en $x$",
        "La derivada segunda",
        "La pendiente de la tangente",
        "El área bajo la curva"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "f(x): valor real en la curva",
        "L(x): valor en la tangente",
        "Diferencia = error"
      ],
      "stepByStep": [
        "📊 **Error de aproximación**",
        "",
        "**Tangente (aproximación lineal):**",
        "$$L(x) = f(a) + f'(a)(x - a)$$",
        "",
        "**Valor real:**",
        "$$f(x)$$",
        "",
        "🎯 **Error de aproximación**",
        "",
        "$$E(x) = |f(x) - L(x)|$$",
        "",
        "* Representa cuánto se equivoca la tangente",
        "* Es pequeño cuando $x$ está cerca de $a$",
        "* Crece con $|x - a|^2$ (aproximadamente)",
        "",
        "💡 **Propiedades**",
        "",
        "**En x = a:**",
        "$$E(a) = |f(a) - L(a)| = 0$$",
        "(tangente y curva coinciden)",
        "",
        "**Lejos de a:**",
        "$$E(x)$$ crece",
        "",
        "✅ **Respuesta**",
        "$|f(x) - L(x)|$ es el error de aproximación"
      ],
      "explanation": "|f(x) - L(x)| mide el error entre el valor real y la aproximación lineal"
    }
  ]
}
