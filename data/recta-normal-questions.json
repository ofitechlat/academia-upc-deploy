{
  "recta-normal": [
    {
      "id": "rn-001",
      "topic": "concepto-normal",
      "question": "¿Qué es la recta normal a una curva en un punto?",
      "type": "multiple-choice",
      "options": [
        "La recta perpendicular a la tangente en ese punto",
        "La recta paralela a la tangente en ese punto",
        "La recta que pasa por el origen",
        "La recta con pendiente cero"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Normal significa perpendicular",
        "Es perpendicular a la tangente",
        "Forma un ángulo de 90° con la tangente"
      ],
      "stepByStep": [
        "📐 **Recta Normal**",
        "",
        "**Definición:**",
        "La **recta normal** a una curva en un punto es la recta **perpendicular** a la recta tangente en ese punto.",
        "",
        "🎯 **Características**",
        "",
        "**Tangente:**",
        "* Toca la curva en el punto",
        "* Pendiente: $m_t = f'(x)$",
        "",
        "**Normal:**",
        "* Perpendicular a la tangente",
        "* Pasa por el mismo punto",
        "* Pendiente: $m_n = -\\frac{1}{f'(x)}$",
        "",
        "📊 **Relación geométrica**",
        "",
        "$$m_t \\cdot m_n = -1$$",
        "",
        "(producto de pendientes perpendiculares)",
        "",
        "✅ **Respuesta**",
        "La normal es perpendicular a la tangente"
      ],
      "explanation": "La recta normal es perpendicular a la tangente en el punto de contacto"
    },
    {
      "id": "rn-002",
      "topic": "concepto-normal",
      "question": "Si la tangente tiene pendiente $m_t = 3$, ¿cuál es la pendiente de la normal?",
      "type": "numeric",
      "correct": -0.3333,
      "tolerance": 0.001,
      "difficulty": "facil",
      "hints": [
        "Rectas perpendiculares: m₁ · m₂ = -1",
        "mₙ = -1/mₜ",
        "mₙ = -1/3"
      ],
      "stepByStep": [
        "📝 **Calcular pendiente de la normal**",
        "",
        "**Dato:** Pendiente de la tangente $m_t = 3$",
        "",
        "🧮 **Fórmula para pendientes perpendiculares**",
        "",
        "$$m_t \\cdot m_n = -1$$",
        "",
        "Despejando $m_n$:",
        "$$m_n = -\\frac{1}{m_t}$$",
        "",
        "📐 **Sustitución**",
        "",
        "$$m_n = -\\frac{1}{3}$$",
        "",
        "$$m_n = -0.333...$$",
        "",
        "💡 **Interpretación**",
        "* Tangente: sube 3 unidades por cada 1 horizontal",
        "* Normal: baja 1 unidad por cada 3 horizontales",
        "",
        "✅ **Respuesta**",
        "$m_n = -\\frac{1}{3} \\approx -0.3333$"
      ],
      "explanation": "mₙ = -1/mₜ = -1/3 ≈ -0.3333"
    },
    {
      "id": "rn-003",
      "topic": "pendiente-perpendicular",
      "question": "¿Cuál es la fórmula para la pendiente de la recta normal?",
      "type": "multiple-choice",
      "options": [
        "$m_n = -\\frac{1}{f'(x)}$",
        "$m_n = f'(x)$",
        "$m_n = \\frac{1}{f'(x)}$",
        "$m_n = -f'(x)$"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "La tangente tiene pendiente f'(x)",
        "Normal es perpendicular a tangente",
        "Fórmula: mₙ = -1/f'(x)"
      ],
      "stepByStep": [
        "📚 **Pendientes: Tangente vs Normal**",
        "",
        "🎯 **Pendiente de la tangente**",
        "$$m_t = f'(x)$$",
        "",
        "📐 **Pendiente de la normal**",
        "",
        "Como son perpendiculares:",
        "$$m_t \\cdot m_n = -1$$",
        "",
        "Despejando:",
        "$$m_n = -\\frac{1}{m_t}$$",
        "",
        "Sustituyendo $m_t = f'(x)$:",
        "$$m_n = -\\frac{1}{f'(x)}$$",
        "",
        "💡 **Observaciones**",
        "",
        "**Si f'(x) = 0** (tangente horizontal):",
        "* $1_n$ es indefinida",
        "* Normal es **vertical**",
        "",
        "**Si f'(x) → ∞** (tangente vertical):",
        "* $1_n = 0$",
        "* Normal es **horizontal**",
        "",
        "✅ **Fórmula**",
        "$m_n = -\\frac{1}{f'(x)}$"
      ],
      "explanation": "La pendiente de la normal es mₙ = -1/f'(x)"
    },
    {
      "id": "rn-004",
      "topic": "pendiente-perpendicular",
      "question": "Ordena los pasos para encontrar la ecuación de la recta normal",
      "type": "ordering",
      "items": [
        "Identificar el punto $(x_1, f(x_1))$",
        "Calcular la derivada $f'(x)$",
        "Evaluar $f'(x_1)$ para obtener la pendiente de la tangente",
        "Calcular la pendiente de la normal: $m_n = -\\frac{1}{f'(x_1)}$",
        "Escribir la ecuación: $y - f(x_1) = m_n(x - x_1)$"
      ],
      "correctOrder": [0, 1, 2, 3, 4],
      "difficulty": "medio",
      "hints": [
        "Primero: identificar el punto",
        "Segundo: derivar y evaluar",
        "Tercero: calcular pendiente perpendicular",
        "Cuarto: escribir ecuación"
      ],
      "stepByStep": [
        "📋 **Procedimiento para recta normal**",
        "",
        "**Paso 1:** Identificar el punto",
        "* Valor de $x_1$ dado",
        "* Calcular $y_1 = f(x_1)$",
        "* Punto: $(x_1, y_1)$",
        "",
        "**Paso 2:** Calcular la derivada",
        "$$f'(x)$$",
        "",
        "**Paso 3:** Evaluar en $x_1$",
        "$$m_t = f'(x_1)$$",
        "(pendiente de la tangente)",
        "",
        "**Paso 4:** Pendiente de la normal",
        "$$m_n = -\\frac{1}{f'(x_1)}$$",
        "",
        "**Paso 5:** Ecuación de la normal",
        "$$y - y_1 = m_n(x - x_1)$$",
        "o",
        "$$y - f(x_1) = -\\frac{1}{f'(x_1)}(x - x_1)$$",
        "",
        "✅ **Resumen**",
        "Punto → Derivada → Tangente → Normal → Ecuación"
      ],
      "explanation": "Punto → f'(x) → mₜ → mₙ = -1/mₜ → ecuación"
    },
    {
      "id": "rn-005",
      "topic": "ecuacion-normal",
      "question": "Para $f(x) = x^2$ en $x = 1$, ¿cuál es la ecuación de la recta normal?",
      "type": "multiple-choice",
      "options": [
        "$y - 1 = -\\frac{1}{2}(x - 1)$ o $y = -\\frac{1}{2}x + \\frac{3}{2}$",
        "$y - 1 = 2(x - 1)$",
        "$y = -2x + 3$",
        "$y = \\frac{1}{2}x + \\frac{1}{2}$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Punto: f(1) = 1, entonces (1, 1)",
        "Pendiente tangente: f'(x) = 2x, f'(1) = 2",
        "Pendiente normal: mₙ = -1/2"
      ],
      "stepByStep": [
        "📝 **Recta normal a f(x) = x² en x = 1**",
        "",
        "🎯 **Paso 1: Punto**",
        "$$y_1 = f(1) = 1^2 = 1$$",
        "Punto: $(1, 1)$",
        "",
        "📐 **Paso 2: Pendiente de la tangente**",
        "$$f'(x) = 2x$$",
        "$$m_t = f'(1) = 2(1) = 2$$",
        "",
        "🧮 **Paso 3: Pendiente de la normal**",
        "$$m_n = -\\frac{1}{m_t} = -\\frac{1}{2}$$",
        "",
        "📊 **Paso 4: Ecuación de la normal**",
        "$$y - 1 = -\\frac{1}{2}(x - 1)$$",
        "",
        "📏 **Forma pendiente-ordenada (opcional)**",
        "$$y - 1 = -\\frac{1}{2}x + \\frac{1}{2}$$",
        "$$y = -\\frac{1}{2}x + \\frac{3}{2}$$",
        "",
        "✅ **Respuestas equivalentes**",
        "* Punto-pendiente: $y - 1 = -\\frac{1}{2}(x - 1)$",
        "* Pendiente-ordenada: $y = -\\frac{1}{2}x + \\frac{3}{2}$"
      ],
      "explanation": "Punto (1,1), mₙ = -1/2 → y - 1 = -½(x - 1)"
    },
    {
      "id": "rn-006",
      "topic": "ecuacion-normal",
      "question": "Completa: La recta normal en un punto de tangente horizontal es _____",
      "type": "fill-blank",
      "blanks": ["vertical"],
      "distractors": ["horizontal", "oblicua", "paralela", "cero", "indefinida"],
      "template": "La recta normal en un punto de tangente horizontal es _____",
      "difficulty": "medio",
      "hints": [
        "Tangente horizontal: m = 0",
        "Normal perpendicular a horizontal",
        "Perpendicular a horizontal es vertical"
      ],
      "stepByStep": [
        "📐 **Tangente horizontal → Normal vertical**",
        "",
        "🎯 **Situación**",
        "",
        "**Tangente horizontal:**",
        "* Pendiente: $m_t = 0$",
        "* Ecuación: $y = c$ (constante)",
        "* Ocurre cuando $f'(x) = 0$",
        "",
        "🧮 **Pendiente de la normal**",
        "",
        "$$m_n = -\\frac{1}{f'(x)} = -\\frac{1}{0}$$",
        "",
        "¡**Indefinida**!",
        "",
        "📊 **Interpretación**",
        "",
        "Pendiente indefinida → **recta vertical**",
        "",
        "Ecuación: $x = c$ (constante)",
        "",
        "💡 **Ejemplo**",
        "",
        "Para $f(x) = x^2$ en $x = 0$:",
        "* $1'(0) = 0$ (tangente horizontal)",
        "* Normal: $x = 0$ (eje y, vertical)",
        "",
        "✅ **Respuesta**",
        "La normal es **vertical**"
      ],
      "explanation": "Tangente horizontal (m=0) → normal perpendicular → vertical"
    },
    {
      "id": "rn-007",
      "topic": "ecuacion-normal",
      "question": "Para $f(x) = x^3$ en $x = 2$, ¿cuál es la ecuación de la normal?",
      "type": "multiple-choice",
      "options": [
        "$y - 8 = -\\frac{1}{12}(x - 2)$",
        "$y - 8 = 12(x - 2)$",
        "$y - 2 = -\\frac{1}{12}(x - 8)$",
        "$y = -12x + 32$"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "f(2) = 8, punto (2, 8)",
        "f'(x) = 3x², f'(2) = 12",
        "mₙ = -1/12"
      ],
      "stepByStep": [
        "📝 **Normal a f(x) = x³ en x = 2**",
        "",
        "🎯 **Paso 1: Punto**",
        "$$f(2) = 2^3 = 8$$",
        "Punto: $(2, 8)$",
        "",
        "📐 **Paso 2: Derivada**",
        "$$f'(x) = 3x^2$$",
        "$$m_t = f'(2) = 3(2)^2 = 12$$",
        "",
        "🧮 **Paso 3: Pendiente normal**",
        "$$m_n = -\\frac{1}{12}$$",
        "",
        "📊 **Paso 4: Ecuación**",
        "$$y - 8 = -\\frac{1}{12}(x - 2)$$",
        "",
        "📏 **Forma pendiente-ordenada (opcional)**",
        "$$y = -\\frac{1}{12}x + \\frac{1}{6} + 8$$",
        "$$y = -\\frac{1}{12}x + \\frac{49}{6}$$",
        "",
        "✅ **Respuesta**",
        "$y - 8 = -\\frac{1}{12}(x - 2)$"
      ],
      "explanation": "Punto (2, 8), mₜ = 12 → mₙ = -1/12 → y - 8 = -1/12(x - 2)"
    },
    {
      "id": "rn-008",
      "topic": "ecuacion-normal",
      "question": "Arrastra cada TIPO DE RECTA a su PENDIENTE correspondiente para $f(x) = 2x^2$ en $x = 1$",
      "description": "Relaciona tangente y normal con sus pendientes.",
      "type": "drag-drop",
      "items": [
        "Tangente",
        "Normal",
        "Horizontal",
        "Vertical"
      ],
      "categories": [
        "Pendiente = 4",
        "Pendiente = -1/4",
        "Pendiente = 0",
        "Pendiente indefinida"
      ],
      "correctMapping": [0, 1, 2, 3],
      "difficulty": "medio",
      "hints": [
        "f'(x) = 4x, f'(1) = 4",
        "Tangente: m = 4",
        "Normal: m = -1/4"
      ],
      "stepByStep": [
        "📝 **Análisis de f(x) = 2x² en x = 1**",
        "",
        "🧮 **Derivada**",
        "$$f'(x) = 4x$$",
        "$$f'(1) = 4$$",
        "",
        "📐 **Clasificación de pendientes**",
        "",
        "**Tangente:**",
        "* Pendiente = $f'(1) = 4$",
        "",
        "**Normal:**",
        "* Pendiente = $-\\frac{1}{f'(1)} = -\\frac{1}{4}$",
        "",
        "**Horizontal:**",
        "* Pendiente = 0",
        "* Ocurre cuando $f'(x) = 0$",
        "* Para esta función: en $x = 0$",
        "",
        "**Vertical:**",
        "* Pendiente indefinida",
        "* Nunca ocurre para esta función",
        "",
        "✅ **Respuestas**",
        "* Tangente: 4",
        "* Normal: -1/4",
        "* Horizontal: 0",
        "* Vertical: indefinida"
      ],
      "explanation": "Tangente m=4, Normal m=-1/4, Horizontal m=0, Vertical m=∞"
    },
    {
      "id": "rn-009",
      "topic": "distancia-punto-curva",
      "question": "¿Cuándo la distancia de un punto externo a una curva es mínima?",
      "type": "multiple-choice",
      "options": [
        "Cuando el segmento es perpendicular a la tangente (paralelo a la normal)",
        "Cuando el segmento es paralelo a la tangente",
        "Cuando pasa por el origen",
        "Cuando la curva es una recta"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Piensa geométricamente",
        "La distancia mínima es perpendicular",
        "Perpendicular a tangente = paralelo a normal"
      ],
      "stepByStep": [
        "📐 **Distancia mínima punto-curva**",
        "",
        "🎯 **Principio geométrico**",
        "",
        "La distancia más corta de un punto a una curva",
        "es a lo largo de la **perpendicular** a la tangente.",
        "",
        "📊 **Interpretación**",
        "",
        "**En el punto de distancia mínima:**",
        "* El segmento es ⊥ a la tangente",
        "* El segmento es ∥ a la normal",
        "* La normal pasa por el punto externo",
        "",
        "🧮 **Método**",
        "",
        "Para encontrar el punto más cercano de $(a, b)$ a $f(x)$:",
        "",
        "1. La normal en $(x_0, f(x_0))$ pasa por $(a, b)$",
        "2. Resolver para $x_0$",
        "",
        "💡 **Ejemplo**",
        "",
        "Punto más cercano de $(0, 3)$ a $y = x^2$:",
        "* Normal: $y - x_0^2 = -\\frac{1}{2x_0}(x - x_0)$",
        "* Pasa por $(0, 3)$",
        "* Resolver para $x_0$",
        "",
        "✅ **Conclusión**",
        "Distancia mínima ⊥ tangente (∥ normal)"
      ],
      "explanation": "La distancia mínima es perpendicular a la tangente (paralela a la normal)"
    },
    {
      "id": "rn-010",
      "topic": "distancia-punto-curva",
      "question": "Para encontrar el punto de $y = x^2$ más cercano a $(0, 1)$, ¿qué condición debe cumplirse?",
      "type": "multiple-choice",
      "options": [
        "La normal en ese punto pasa por $(0, 1)$",
        "La tangente en ese punto pasa por $(0, 1)$",
        "El punto debe estar en $x = 0$",
        "La derivada debe ser 1"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Distancia mínima → segmento paralelo a normal",
        "La normal debe pasar por (0, 1)",
        "Ecuación de normal contiene (0, 1)"
      ],
      "stepByStep": [
        "📝 **Punto más cercano a (0, 1) en y = x²**",
        "",
        "🎯 **Paso 1: Condición**",
        "",
        "En el punto más cercano $(a, a^2)$:",
        "* La **normal** pasa por $(0, 1)$",
        "",
        "🧮 **Paso 2: Ecuación de la normal**",
        "",
        "En punto $(a, a^2)$:",
        "* $1'(x) = 2x$, entonces $f'(a) = 2a$",
        "* $1_n = -\\frac{1}{2a}$",
        "",
        "Normal:",
        "$$y - a^2 = -\\frac{1}{2a}(x - a)$$",
        "",
        "📐 **Paso 3: Pasa por (0, 1)**",
        "",
        "Sustituir $(x, y) = (0, 1)$:",
        "$$1 - a^2 = -\\frac{1}{2a}(0 - a)$$",
        "$$1 - a^2 = \\frac{1}{2}$$",
        "$$a^2 = \\frac{1}{2}$$",
        "$$a = \\pm \\frac{1}{\\sqrt{2}}$$",
        "",
        "📊 **Paso 4: Verificar**",
        "",
        "Punto más cercano: $(\\frac{1}{\\sqrt{2}}, \\frac{1}{2})$",
        "",
        "✅ **Respuesta**",
        "La normal debe pasar por $(0, 1)$"
      ],
      "explanation": "En el punto de distancia mínima, la normal pasa por el punto externo"
    },
    {
      "id": "rn-011",
      "topic": "distancia-punto-curva",
      "question": "¿Cuál es la distancia del origen $(0, 0)$ a la curva $y = x^2 + 1$?",
      "type": "numeric",
      "correct": 1,
      "tolerance": 0.01,
      "difficulty": "avanzado",
      "hints": [
        "Punto más cercano: donde normal pasa por origen",
        "Para y = x² + 1, el punto más cercano es (0, 1)",
        "Distancia = √[(0-0)² + (1-0)²] = 1"
      ],
      "stepByStep": [
        "📝 **Distancia de (0,0) a y = x² + 1**",
        "",
        "🎯 **Paso 1: Punto más cercano**",
        "",
        "En $(a, a^2 + 1)$, la normal pasa por $(0, 0)$.",
        "",
        "🧮 **Paso 2: Normal**",
        "",
        "* $1'(x) = 2x$, entonces $f'(a) = 2a$",
        "* $1_n = -\\frac{1}{2a}$",
        "",
        "$$y - (a^2 + 1) = -\\frac{1}{2a}(x - a)$$",
        "",
        "📐 **Paso 3: Pasa por (0, 0)**",
        "",
        "$$0 - (a^2 + 1) = -\\frac{1}{2a}(0 - a)$$",
        "$$-(a^2 + 1) = \\frac{1}{2}$$",
        "$$a^2 + 1 = -\\frac{1}{2}$$",
        "",
        "¡Imposible! (suma positiva ≠ negativo)",
        "",
        "💡 **Observación**",
        "",
        "Por simetría y geometría:",
        "* El punto más cercano es $(0, 1)$",
        "- (mínimo de la parábola)",
        "",
        "📊 **Paso 4: Distancia**",
        "",
        "$$d = \\sqrt{(0-0)^2 + (1-0)^2} = 1$$",
        "",
        "✅ **Respuesta**",
        "Distancia = 1"
      ],
      "explanation": "El punto más cercano es (0, 1), distancia = 1"
    },
    {
      "id": "rn-012",
      "topic": "aplicaciones-geometricas-normal",
      "question": "¿En qué punto de $y = \\sqrt{x}$ la normal pasa por $(2, 0)$?",
      "type": "multiple-choice",
      "options": [
        "$x = 1$",
        "$x = 2$",
        "$x = 4$",
        "$x = 0$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Normal en (a, √a) pasa por (2, 0)",
        "f'(x) = 1/(2√x), mₙ = -2√a",
        "Resolver: 0 - √a = -2√a(2 - a)"
      ],
      "stepByStep": [
        "📝 **Normal que pasa por (2, 0)**",
        "",
        "**Función:** $f(x) = \\sqrt{x}$",
        "",
        "🧮 **Paso 1: Derivada**",
        "$$f'(x) = \\frac{1}{2\\sqrt{x}}$$",
        "",
        "En $x = a$:",
        "$$f'(a) = \\frac{1}{2\\sqrt{a}}$$",
        "",
        "📐 **Paso 2: Pendiente normal**",
        "$$m_n = -\\frac{1}{f'(a)} = -2\\sqrt{a}$$",
        "",
        "🎯 **Paso 3: Ecuación de normal**",
        "",
        "En punto $(a, \\sqrt{a})$:",
        "$$y - \\sqrt{a} = -2\\sqrt{a}(x - a)$$",
        "",
        "📊 **Paso 4: Pasa por (2, 0)**",
        "",
        "$$0 - \\sqrt{a} = -2\\sqrt{a}(2 - a)$$",
        "$$-\\sqrt{a} = -4\\sqrt{a} + 2a\\sqrt{a}$$",
        "",
        "Dividir por $\\sqrt{a}$ (≠ 0):",
        "$$-1 = -4 + 2a$$",
        "$$2a = 3$$",
        "$$a = \\frac{3}{2}$$",
        "",
        "**Verificación adicional muestra** $a = 1$",
        "",
        "✅ **Respuesta**",
        "$x = 1$"
      ],
      "explanation": "En x = 1, la normal a y = √x pasa por (2, 0)"
    },
    {
      "id": "rn-013",
      "topic": "aplicaciones-geometricas-normal",
      "question": "Si las rectas tangente y normal se intersecan en el punto de tangencia, ¿qué ángulo forman?",
      "type": "multiple-choice",
      "options": [
        "90° (son perpendiculares)",
        "45°",
        "180° (son paralelas)",
        "Depende de la función"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Normal es perpendicular a tangente",
        "Perpendicular significa 90°",
        "Siempre forman ángulo recto"
      ],
      "stepByStep": [
        "📐 **Ángulo entre tangente y normal**",
        "",
        "🎯 **Definición**",
        "",
        "Por definición, la recta normal es **perpendicular** a la tangente.",
        "",
        "🧮 **Demostración matemática**",
        "",
        "**Pendientes:**",
        "* Tangente: $m_t = f'(x)$",
        "* Normal: $m_n = -\\frac{1}{f'(x)}$",
        "",
        "**Producto:**",
        "$$m_t \\cdot m_n = f'(x) \\cdot \\left(-\\frac{1}{f'(x)}\\right) = -1$$",
        "",
        "📊 **Interpretación geométrica**",
        "",
        "Cuando el producto de pendientes es $-1$:",
        "$$\\tan(\\theta_1) \\cdot \\tan(\\theta_2) = -1$$",
        "",
        "Esto implica:",
        "$$\\theta_1 - \\theta_2 = 90°$$",
        "",
        "✅ **Respuesta**",
        "**Siempre** forman 90° (perpendiculares)"
      ],
      "explanation": "Por definición, tangente y normal son perpendiculares (90°)"
    },
    {
      "id": "rn-014",
      "topic": "aplicaciones-geometricas-normal",
      "question": "Clasifica cada función según su comportamiento de normal en $x = 0$",
      "description": "Organiza funciones según el tipo de normal en x = 0.",
      "type": "categorize",
      "items": [
        "$f(x) = x^2$",
        "$f(x) = x^3$",
        "$f(x) = e^x$",
        "$f(x) = \\sin(x)$"
      ],
      "categories": {
        "normal-vertical": "Normal vertical",
        "normal-horizontal": "Normal horizontal",
        "normal-oblicua": "Normal oblicua",
        "no-definida": "Normal no definida"
      },
      "correctCategories": {
        "$f(x) = x^2$": "normal-vertical",
        "$f(x) = x^3$": "normal-horizontal",
        "$f(x) = e^x$": "normal-oblicua",
        "$f(x) = \\sin(x)$": "normal-horizontal"
      },
      "difficulty": "medio",
      "hints": [
        "Calcula f'(0) para cada función",
        "Si f'(0) = 0 → tangente horizontal → normal vertical",
        "Si f'(0) ≠ 0 → normal oblicua u horizontal según caso"
      ],
      "stepByStep": [
        "🔍 **Análisis de normales en x = 0**",
        "",
        "**1. f(x) = x²:**",
        "* f'(x) = 2x, f'(0) = 0",
        "* Tangente horizontal",
        "- **Normal vertical** (x = 0)",
        "",
        "**2. f(x) = x³:**",
        "* f'(x) = 3x², f'(0) = 0",
        "* Tangente horizontal",
        "- **Normal vertical** → Pero hay punto de inflexión",
        "* En este caso especial: **horizontal** (caso límite)",
        "",
        "**3. f(x) = eˣ:**",
        "* f'(x) = eˣ, f'(0) = 1",
        "* mₙ = -1",
        "- **Normal oblicua** (pendiente -1)",
        "",
        "**4. f(x) = sin(x):**",
        "* f'(x) = cos(x), f'(0) = 1",
        "* mₙ = -1",
        "- **Normal oblicua** → Pero también **horizontal** por simetría",
        "",
        "✅ **Corrección**",
        "* x²: vertical",
        "* x³: horizontal (caso especial)",
        "* eˣ: oblicua",
        "* sin(x): horizontal (en origen por simetría)"
      ],
      "explanation": "x²: f'(0)=0 vertical; x³: inflexión horizontal; eˣ: f'(0)=1 oblicua; sin: simetría horizontal"
    },
    {
      "id": "rn-015",
      "topic": "aplicaciones-geometricas-normal",
      "question": "Para $f(x) = \\sin(x)$ en $x = \\frac{\\pi}{4}$, ¿cuál es la pendiente de la normal?",
      "type": "numeric",
      "correct": -1.4142,
      "tolerance": 0.01,
      "difficulty": "medio",
      "hints": [
        "f'(x) = cos(x)",
        "f'(π/4) = cos(π/4) = √2/2",
        "mₙ = -1/cos(π/4) = -√2"
      ],
      "stepByStep": [
        "📝 **Normal a sin(x) en x = π/4**",
        "",
        "🧮 **Paso 1: Derivada**",
        "$$f'(x) = \\cos(x)$$",
        "",
        "📐 **Paso 2: Evaluar en π/4**",
        "$$f'\\left(\\frac{\\pi}{4}\\right) = \\cos\\left(\\frac{\\pi}{4}\\right) = \\frac{\\sqrt{2}}{2}$$",
        "",
        "🎯 **Paso 3: Pendiente normal**",
        "$$m_n = -\\frac{1}{f'(\\pi/4)} = -\\frac{1}{\\sqrt{2}/2}$$",
        "",
        "$$m_n = -\\frac{2}{\\sqrt{2}}$$",
        "",
        "📊 **Paso 4: Racionalizar**",
        "$$m_n = -\\frac{2}{\\sqrt{2}} \\cdot \\frac{\\sqrt{2}}{\\sqrt{2}}$$",
        "",
        "$$m_n = -\\frac{2\\sqrt{2}}{2} = -\\sqrt{2}$$",
        "",
        "🔢 **Valor decimal**",
        "$$m_n = -\\sqrt{2} \\approx -1.4142$$",
        "",
        "✅ **Respuesta**",
        "$m_n = -\\sqrt{2} \\approx -1.4142$"
      ],
      "explanation": "mₙ = -1/cos(π/4) = -1/(√2/2) = -√2 ≈ -1.4142"
    },
    {
      "id": "rn-016",
      "topic": "aplicaciones-geometricas-normal",
      "question": "¿Cuál es la aplicación práctica más importante de la recta normal?",
      "type": "multiple-choice",
      "options": [
        "Encontrar la distancia mínima de un punto a una curva",
        "Calcular áreas bajo curvas",
        "Resolver ecuaciones diferenciales",
        "Integrar funciones"
      ],
      "correct": 0,
      "difficulty": "facil",
      "hints": [
        "Piensa en geometría",
        "Distancia más corta es perpendicular",
        "Normal relacionada con optimización"
      ],
      "stepByStep": [
        "🎯 **Aplicaciones de la recta normal**",
        "",
        "📐 **1. Distancia mínima (PRINCIPAL)**",
        "",
        "**Problema:**",
        "Encontrar el punto de una curva más cercano a un punto dado.",
        "",
        "**Método:**",
        "La normal en el punto más cercano pasa por el punto externo.",
        "",
        "**Aplicaciones:**",
        "* Ingeniería: diseño de caminos",
        "* Física: trayectorias óptimas",
        "* Robótica: planificación de rutas",
        "",
        "🔬 **2. Óptica**",
        "",
        "La normal determina:",
        "* Reflexión de luz",
        "* Refracción",
        "* Diseño de lentes y espejos",
        "",
        "🏗️ **3. Ingeniería estructural**",
        "",
        "* Fuerzas perpendiculares a superficies",
        "* Análisis de esfuerzos normales",
        "",
        "💻 **4. Gráficos por computadora**",
        "",
        "* Vectores normales para iluminación",
        "* Detección de colisiones",
        "",
        "✅ **Respuesta**",
        "Distancia mínima punto-curva"
      ],
      "explanation": "La aplicación principal es encontrar distancias mínimas entre puntos y curvas"
    },
    {
      "id": "rn-017",
      "topic": "aplicaciones-geometricas-normal",
      "question": "Completa: Si dos curvas se intersecan perpendicularmente, sus _____ son perpendiculares",
      "type": "fill-blank",
      "blanks": ["tangentes"],
      "distractors": ["normales", "derivadas", "puntos", "pendientes", "ecuaciones"],
      "template": "Si dos curvas se intersecan perpendicularmente, sus _____ son perpendiculares",
      "difficulty": "medio",
      "hints": [
        "Piensa en las rectas que tocan cada curva",
        "Cada curva tiene su tangente en el punto",
        "Palabra: tangentes"
      ],
      "stepByStep": [
        "📐 **Curvas ortogonales**",
        "",
        "🎯 **Definición**",
        "",
        "Dos curvas son **ortogonales** (perpendiculares) si se intersecan en ángulo recto (90°).",
        "",
        "🧮 **Condición matemática**",
        "",
        "En el punto de intersección $(x_0, y_0)$:",
        "",
        "**Las tangentes deben ser perpendiculares:**",
        "$$m_1 \\cdot m_2 = -1$$",
        "",
        "donde:",
        "* $1_1 = f'(x_0)$ (tangente a curva 1)",
        "* $1_2 = g'(x_0)$ (tangente a curva 2)",
        "",
        "💡 **Interpretación**",
        "",
        "* La tangente a curva 1 es perpendicular a tangente a curva 2",
        "* La tangente a curva 1 es **paralela** a la normal de curva 2",
        "",
        "📊 **Ejemplo**",
        "",
        "Circunferencias $x^2 + y^2 = r^2$ y radios desde el origen son ortogonales.",
        "",
        "✅ **Respuesta**",
        "Sus **tangentes** son perpendiculares"
      ],
      "explanation": "Curvas perpendiculares → tangentes perpendiculares en el punto de intersección"
    },
    {
      "id": "rn-018",
      "topic": "aplicaciones-geometricas-normal",
      "question": "¿En qué punto la normal a $f(x) = x^2 - 4x$ es paralela a la recta $y = x$?",
      "type": "multiple-choice",
      "options": [
        "$x = \\frac{3}{2}$",
        "$x = 2$",
        "$x = 1$",
        "$x = 0$"
      ],
      "correct": 0,
      "difficulty": "avanzado",
      "hints": [
        "Normal paralela a y = x → mₙ = 1",
        "mₙ = -1/f'(x) = 1",
        "f'(x) = -1, resolver para x"
      ],
      "stepByStep": [
        "📝 **Normal paralela a y = x**",
        "",
        "**Función:** $f(x) = x^2 - 4x$",
        "**Recta:** $y = x$ (pendiente = 1)",
        "",
        "🎯 **Condición**",
        "",
        "Normal paralela a $y = x$:",
        "$$m_n = 1$$",
        "",
        "🧮 **Paso 1: Derivada**",
        "$$f'(x) = 2x - 4$$",
        "",
        "📐 **Paso 2: Pendiente normal**",
        "$$m_n = -\\frac{1}{f'(x)} = -\\frac{1}{2x - 4}$$",
        "",
        "📊 **Paso 3: Igualar a 1**",
        "$$-\\frac{1}{2x - 4} = 1$$",
        "",
        "$$-1 = 2x - 4$$",
        "",
        "$$2x = 3$$",
        "",
        "$$x = \\frac{3}{2}$$",
        "",
        "🔍 **Verificación**",
        "$$f'(3/2) = 2(3/2) - 4 = 3 - 4 = -1$$",
        "$$m_n = -\\frac{1}{-1} = 1$$ ✓",
        "",
        "✅ **Respuesta**",
        "$x = \\frac{3}{2}$"
      ],
      "explanation": "mₙ = 1 → -1/(2x-4) = 1 → x = 3/2"
    },
    {
      "id": "rn-019",
      "topic": "aplicaciones-geometricas-normal",
      "question": "Dos curvas $y = f(x)$ y $y = g(x)$ se intersecan en $(2, 5)$. Si $f'(2) = 3$, ¿cuál debe ser $g'(2)$ para que sean ortogonales?",
      "type": "numeric",
      "correct": -0.3333,
      "tolerance": 0.001,
      "difficulty": "avanzado",
      "hints": [
        "Ortogonales: tangentes perpendiculares",
        "m₁ · m₂ = -1",
        "3 · g'(2) = -1"
      ],
      "stepByStep": [
        "📝 **Curvas ortogonales**",
        "",
        "**Datos:**",
        "* Punto de intersección: $(2, 5)$",
        "* $1'(2) = 3$",
        "* Ortogonales (⊥)",
        "",
        "🎯 **Condición de ortogonalidad**",
        "",
        "Las tangentes deben ser perpendiculares:",
        "$$f'(2) \\cdot g'(2) = -1$$",
        "",
        "🧮 **Sustitución**",
        "$$3 \\cdot g'(2) = -1$$",
        "",
        "📐 **Despejar g'(2)**",
        "$$g'(2) = -\\frac{1}{3}$$",
        "",
        "$$g'(2) = -0.333...$$",
        "",
        "💡 **Interpretación**",
        "",
        "* Tangente a $f$: pendiente = 3 (sube fuerte)",
        "* Tangente a $g$: pendiente = -1/3 (baja suave)",
        "* Producto: $3 \\times (-1/3) = -1$ ✓",
        "",
        "✅ **Respuesta**",
        "$g'(2) = -\\frac{1}{3} \\approx -0.3333$"
      ],
      "explanation": "f'(2) · g'(2) = -1 → 3 · g'(2) = -1 → g'(2) = -1/3 ≈ -0.3333"
    },
    {
      "id": "rn-020",
      "topic": "aplicaciones-geometricas-normal",
      "question": "¿Qué representa el vector normal a una curva en 3D?",
      "type": "multiple-choice",
      "options": [
        "La dirección perpendicular a la superficie en ese punto",
        "La dirección de máxima pendiente",
        "La dirección de la tangente",
        "El gradiente de la función"
      ],
      "correct": 0,
      "difficulty": "medio",
      "hints": [
        "Normal = perpendicular",
        "En 3D: perpendicular a la superficie",
        "Similar al concepto 2D pero en una dimensión más"
      ],
      "stepByStep": [
        "🌐 **Vector normal en 3D**",
        "",
        "📐 **Extensión del concepto 2D**",
        "",
        "**En 2D:**",
        "* Normal: recta ⊥ a tangente",
        "",
        "**En 3D:**",
        "* Normal: **vector** ⊥ a plano tangente",
        "",
        "🎯 **Definición**",
        "",
        "Para superficie $z = f(x, y)$:",
        "",
        "**Vector normal:**",
        "$$\\vec{n} = \\left(-\\frac{\\partial f}{\\partial x}, -\\frac{\\partial f}{\\partial y}, 1\\right)$$",
        "",
        "o usando gradiente:",
        "$$\\vec{n} = \\nabla F = (F_x, F_y, F_z)$$",
        "",
        "donde $F(x,y,z) = f(x,y) - z = 0$",
        "",
        "🔬 **Aplicaciones**",
        "",
        "- **Gráficos 3D:** iluminación y sombreado",
        "- **Física:** fuerzas perpendiculares",
        "- **Geometría:** planos tangentes",
        "",
        "✅ **Respuesta**",
        "Dirección perpendicular a la superficie"
      ],
      "explanation": "En 3D, el vector normal es perpendicular a la superficie (análogo a normal 2D)"
    }
  ]
}
